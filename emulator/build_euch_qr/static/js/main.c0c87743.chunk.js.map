{"version":3,"sources":["components/FrameBar/ShutdownDialog/ShutdownDialog.module.css","components/Workspace/Plots/Plot/PlotBar/Streams/Streams.module.css","i18n/config.js","components/FrameBar/FrameBarButton/FrameBarButton.jsx","assets/images/FrameBar_Exit.png","redux/ShutdownDialog/selectors.js","redux/constants.ts","components/FrameBar/ShutdownDialog/ShutdownDialog.jsx","redux/ShutdownDialog/actions.js","components/FrameBar/FrameBar.jsx","assets/images/FrameBar_Collapse.png","redux/WorkSpacesProps/selectors.js","components/Workspace/Advices/Advice/utils.js","redux/DatasetsProps/selectors.js","redux/RecProps/selectors.js","components/Workspace/Advices/Advice/Advice.jsx","components/Workspace/Advices/Advices.jsx","components/Workspace/Labels/Label/Label.jsx","components/Navigation/InfoWidgets/InfoWidget/InfoTable/InfoCell/Row/utils.js","components/Workspace/Labels/Labels.jsx","components/Workspace/Scheme/Scheme.jsx","redux/AppProps/selectors.js","components/Workspace/Plots/Plot/PlotBar/Streams/Stream/Stream.jsx","redux/PlotsProps/actions.js","assets/images/Stream_Checkmark.png","redux/PlotsProps/selectors.js","components/Workspace/Plots/Plot/PlotBar/Streams/Streams.jsx","hooks/useOutsideClick.js","assets/images/Plot_Streams_Arrow.png","components/Workspace/Plots/Plot/PlotBar/Periods/Period/Period.js","components/Workspace/Plots/Plot/PlotBar/Periods/Periods.jsx","components/Workspace/Plots/Plot/Targets/Target/Target.js","components/Workspace/Plots/Plot/Targets/Targets.jsx","components/Workspace/Plots/Plot/PlotBar/PlotBar.jsx","components/Workspace/Plots/Plot/Chart/ModeBar/ModeBar.js","components/Workspace/Plots/Plot/Chart/ModeBar/utils.js","components/Workspace/Plots/Plot/Chart/utils.js","components/Workspace/Plots/Plot/Chart/Chart.js","components/Workspace/Plots/Plot/Chart/config.js","components/Workspace/Plots/Plot/Plot.jsx","components/Workspace/Plots/ShadowFilter.js","components/Workspace/Plots/Plots.jsx","components/Workspace/Workspace.jsx","components/App/utils.js","redux/DatasetsProps/actions.js","utils.js","redux/utils.js","redux/SpecDialog/actions.js","components/Navigation/InfoWidgets/InfoWidget/SettingsBar/SettingsBar.jsx","redux/AppProps/actions.js","redux/DownloadProps/actions.js","assets/images/WidgetSettings_Specification.png","assets/images/WidgetSettings_Download.png","components/Navigation/InfoWidgets/InfoWidget/InfoWidget.jsx","components/Navigation/InfoWidgets/InfoWidgets.jsx","components/Navigation/Recommendations/Recommendation/utils.js","components/Navigation/Recommendations/Recommendation/Recommendation.jsx","assets/images/Rec_Cross.png","components/Navigation/Recommendations/Recommendations.js","redux/RecProps/actions.js","components/Navigation/Recommendations/utils.js","redux/DownloadProps/selectors.js","components/Navigation/Dialogs/RadioBtnsGroup/RadioButtons/RadioButtons.jsx","components/Navigation/Dialogs/RadioBtnsGroup/RadioBtnsGroup.js","components/Navigation/Dialogs/DownloadDialog/DownloadDialog.jsx","redux/SpecDialog/selectors.js","components/Navigation/Dialogs/SpecDialog/RegimeButton/RegimeButton.jsx","components/Navigation/Dialogs/SpecDialog/SpecInput/SpecInput.jsx","components/Navigation/Dialogs/SpecDialog/StyledContent.js","components/Navigation/Dialogs/SpecDialog/SpecDialog.jsx","redux/QRcodeProps/selectors.js","components/Navigation/QRCodes/QRCode/QRCode.jsx","redux/QRcodeProps/actions.js","components/Navigation/QRCodes/QRCode/utils.js","components/Navigation/QRCodes/QRCodes.jsx","assets/images/App_Qrcode1.png","components/Navigation/Navigation.jsx","assets/images/App_Logo.png","components/App/App.jsx","redux/middleware/api.js","redux/AppProps/reducer.js","redux/FinImpProps/reducer.js","redux/DatasetsProps/reducer.js","redux/DownloadProps/reducer.js","redux/PlotsProps/reducer.js","redux/RecProps/reducer.js","redux/ShutdownDialog/reducer.js","redux/SpecDialog/reducer.js","redux/WorkSpacesProps/reducer.js","redux/QRcodeProps/reducer.js","redux/reducer.ts","redux/store.ts","index.tsx","components/Workspace/Plots/Plot/Targets/Target/Target.module.css","components/Workspace/Plots/Plot/Chart/ModeBar/ModeBar.module.css","components/Navigation/Navigation.module.css","components/Navigation/InfoWidgets/InfoWidget/SettingsBar/SettingsBar.module.css","components/Navigation/Dialogs/SpecDialog/RegimeButton/RegimeButton.module.css","components/Workspace/Plots/Plot/PlotBar/Streams/Stream/Stream.module.css","components/Navigation/Recommendations/Recommendation/Recommendation.module.css","components/Navigation/Dialogs/SpecDialog/SpecInput/SpecInput.module.css","components/Workspace/Labels/Label/Label.module.css","components/Navigation/Dialogs/RadioBtnsGroup/RadioBtnsGroup.module.css","components/Navigation/QRCodes/QRCode/QRCode.module.css","components/FrameBar/FrameBarButton/FrameBarButton.module.css","components/Workspace/Plots/Plot/PlotBar/Periods/Period/Period.module.css","components/Navigation/Recommendations/Recommendations.module.css","components/Navigation/QRCodes/QRCodes.module.css","components/Navigation/Dialogs/SpecDialog/SpecDialog.module.css","components/FrameBar/FrameBar.module.css","components/Workspace/Scheme/Scheme.module.css","components/Workspace/Advices/Advices.module.css","components/Workspace/Workspace.module.css","components/Workspace/Plots/Plots.module.css","components/Workspace/Plots/Plot/PlotBar/Periods/Periods.module.css","components/Workspace/Plots/Plot/PlotBar/PlotBar.module.css","components/Workspace/Plots/Plot/Targets/Targets.module.css","components/Workspace/Plots/Plot/Plot.module.css","components/Workspace/Plots/Plot/Chart/Chart.module.css","components/App/App.module.css","components/Navigation/InfoWidgets/InfoWidget/InfoWidget.module.css","components/Navigation/Dialogs/DownloadDialog/DownloadDialog.module.css","components/Workspace/Advices/Advice/Advice.module.css"],"names":["module","exports","i18n","use","initReactI18next","init","fallbackLng","lng","resources","en","translations","require","ru","ns","defaultNS","catch","err","window","api","log","error","message","languages","FrameBarButton","iconPath","marginTop","marginRight","onClick","className","styles","Root","style","src","alt","Icon","top","isShutdownDialogOpened","createSelector","state","ShutdownDialog","props","isOpened","SUCCESS","FAILURE","SET_APP_WORKSPACE","LOAD_DATASET","OPEN_DOWNLOAD_DIALOG","CLOSE_DOWNLOAD_DIALOG","SET_DOWNLOAD_VALUE","DOWNLOAD_DATA","SET_PLOT_STREAM","SET_PLOT_PERIOD","SET_PLOT_TARGETS","OPEN_SHUTDOWN_DIALOG","CLOSE_SHUTDOWN_DIALOG","OPEN_QRCODE_DIALOG","CLOSE_QRCODE_DIALOG","REQUEST_QRCODE","OPEN_SPEC_DIALOG","CLOSE_SPEC_DIALOG","SET_SPECIFICATION","SET_CONSTANTS","UPDATE_CONSTANTS","SAVE_SPECS_AND_CONSTS","REQUEST_NEW_RECS","CLOSE_REC","REC_ACTION_SUBMIT","mapStateToProps","createStructuredSelector","connect","dispatch","closeDialog","type","appExit","t","useTranslation","cn","Opened","Blocker","Content","Title","Buttons","RedButton","WhiteButton","openDialog","ExitIcon","send","workspacesPropsSelector","WorkSpacesProps","workspacesIdsSelector","workspacesProps","Object","keys","byId","workSpacePropsByIdSelector","_","workspaceId","workSpacesProps","workSpaceStatusTagSelector","status_tag","workSpaceLabelSelector","workspaceProps","label","workSpaceSchemes","schemes","advicesBySchemeIdSelector","schemeId","schemesProps","advices","labelsBySchemeIdSelector","labels","workSpacePlotStreams","plotStreams","workspaceTagsSelector","streamId","streamsProps","defaultTags","datasetId","plotTags","workspaceWidgetsSelector","infoWidgets","workspaceDialogPropsSelector","dialogProps","workspaceSpecDefaultsSelector","specifications","default","getLastPoint","dataset","targetId","precision","result","Number","values","slice","toFixed","length","toLocaleString","getStatus","datasetsPropsSelector","DatasetsProps","datasetsByWorkspaceIdSelector","workspacesDatasetsProps","workspaceDatasetsPropsSelector","datasetsProps","recommendationsSelector","RecProps","recsAPIsSelector","recs","recsAPIs","recsQueueSelector","queue","recUnstableTextSelector","unstableText","recsValuesSelector","recsTimerIntervalSelector","maxShown","timerInterval","datasets","recValues","workspaceStatusTag","adviceProps","optTagId","realTagId","units","margin","datasetsId","recValId","statusTag","optDataset","realDataset","workspaceStatus","adviceStatus","left","Name","OptVal","Hidden","OptMarker","RealVal","RealMarker","advicesProps","map","adviceId","value","texted","prepareValue","tagId","resText","text","postfix","warnStatus","restrictions","includes","min","max","checkWarn","Shown","Warn","pos","y","x","fontSize","capitalize","toUpperCase","labelProps","sliderSettings","arrows","arrowsBlock","dots","overScan","swipe","SwitchTransition","CSSTransition","addEndListener","node","done","addEventListener","classNames","appPropertiesSelector","AppProps","appWorkspace","appProps","currentWorkspace","appLoadedStatus","isLoaded","appLocale","locale","ownProps","setStream","plotId","getState","defaultPeriod","payload","tags","setPlotStream","streamProps","closeDropdown","isSelected","id","Text","Checkmark","Checked","plotsPropsByWorkspaceId","PlotsProps","plotTraceConf","plotsProps","chart_conf","plotStreamByIdSelector","plotPeriodByIdSelector","period","plotTargetsByIdSelector","plotDatasetIdByIdSelector","selectedStream","dropdownRef","useRef","el","initialState","useState","isActive","setIsActive","useEffect","e","current","contains","target","removeEventListener","useDetectOutsideClick","MenuTrigger","MenuTriggerText","MenuTriggerIcon","LessIcon","ref","Menu","active","currentPeriod","setPeriod","setPlotPeriod","buttonProps","periods","periodProps","markerColors","currPlotTargets","tagsProps","setTags","setPlotTargets","indexOfTarget","indexOf","indexOfEmptySlot","description","Disabled","tmp","Marker","checkedMarker","width","height","viewBox","transform","d","fill","fillRule","stroke","strokeWidth","arrowColor","backgroundColor","textColor","place","effect","delayShow","currentStream","targetsList","item","PlotBar","useContext","PlotIdContext","ModeBar","activeReset","graphDiv","dragModeVal","setDragModeVal","ModeBarButton","alternative","persist","ModeBarButtons","pan2d","click","zoom2d","disabled","resetScale2d","prepareXAxis","xAxis","prepareTraceData","conf","filter","smooth_win","excluded_tags","smooth","getLastPointIndex","time","Plot","createPlotlyComponent","Plotly","isHovered","Chart","onInitialized","document","getElementById","ev","absYPos","pageY","absXPos","pageX","plotRoot","plotsBounds","right","leftBound","rightBound","zIndex","onUnhover","setState","setYAxisRange","range","layout","yaxis","setXAxisRange","ignore","datasetLength","currentDatasetId","startTick","endTick","relayout","setReset","reset","evt","currentTargets","index","curveNumber","pointNumber","Fx","hover","onRelayout","eventData","JSON","stringify","hovered","data","name","mode","hoverinfo","hoverlabel","bordercolor","align","font","family","size","color","line","shape","hovermode","dragmode","spikedistance","hoverdistance","autosize","r","l","b","pad","paper_bgcolor","plot_bgcolor","showlegend","xaxis","tickangle","showline","nticks","showgrid","tickfont","tickformat","frames","config","scrollZoom","displayModeBar","setTimeout","prevProps","prevState","snapshot","this","updateTooltips","resetPlotScale","traces","Array","traceConf","targetsProps","divId","React","Component","createContext","Provider","ShadowFilter","display","stdDeviation","dy","dx","in","Plots","appDatasetsUpdater","workspaces","calculator","updater","updateWorkspaceDatasets","datasetsIds","datasetsPropsById","datasetProps","updateDataset","then","setInterval","updateInterval","apiEndpoints","update","endpoint","get","appRecommendationsUpdater","recProps","rec","apiEndpoint","loadDataset","CallAPI","requestCalculation","route","fetch","method","headers","body","requestAppSettings","response","json","objToURLParams","obj","entries","key","val","encodeURIComponent","join","updateSpecInputs","specification","SpecDialog","params","defaults","setSpecification","Button","handler","IconButton","selectedWorkspace","allWorkspaces","workSpaceLabel","dialogsProps","setWorkspace","openDownload","openSpecs","Single","dialogs","dialogId","widgets","InfoWidgets","prpTypes","PropTypes","arrayOf","string","isRequired","countToTime","count","days","Math","floor","hours","minutes","checkPostfix","datasetGetter","observeProps","valueGetter","valueProps","df","rawValue","interval","actionHandler","setCount","observe","diff","getDatasets","optValue","realValue","getValues","diffCond","diffProps","condition","abs","diffCheck","isStable","combineText","timerUpdater","clearTimeout","Timer","CloseButton","recQueue","currWorkspace","submitRecAction","action","recId","recActionSubmit","unstableBannerProps","priority","datetime","useSelector","slots","getWorkspaceStatus","minutesDataset","TransitionGroup","timeout","downloadPropsSelector","DownloadProps","downloadContextRenderPropsSelector","downloadProps","contextRenderProps","download","renderOrder","buttonGroups","downloadContextRenderOrderSelector","renderProps","downloadContextBtnGroupsSelector","WhiteRadio","withStyles","root","checked","Radio","RadioBtnsGroup","storeValues","storeValue","storeProp","FormControl","component","FormLabel","title","RadioGroup","onChange","buttons","btnProp","FormControlLabel","classes","RadioLabel","control","Dvider","Divider","DownloadBtn","downloadHandler","closeHandler","setValue","setDownloadValueByType","GroupsContainer","groupType","specDialogProps","specDialogContentSelector","contentStyle","specDialogContentStyleSelector","specDialogBtnGroupsSelector","setNewRegime","specificationId","updateSpecs","regime","isChecked","validateInput","input","validationProps","inputType","String","len","inputNumber","setSpecs","specs","constants","spec","currSpecs","validation","step","Invalid","InvalidLabel","htmlFor","SaveBtn","saveHandler","isSafe","safeChecker","currConsts","DisabledBtn","DefaultContent","currSpec","constButtons","specButtons","Default","DefaultSpecsContainer","btnProps","CompactContent","setNewSpec","updateConsts","Compact","CompactSpecsContainer","saveSpecs","set","datasetUpdate","regimeId","content","qrcodeSelector","QRcodeProps","isQRcodeOpened","workSpaceQRcode","qrcodes","closeQRCode","QRcode","Date","getTime","openQRCodeWindow","QrcodeContainer","Qrcode","Navigation","TopContainer","Logo","MiddleContainer","BottomContainer","App","workspacesIds","recsProps","updateRec","changeLanguage","datasetCalculator","appUpdater","areEqual","nextProps","requestNewRecs","memo","store","next","postData","rest","res","status","console","ok","reducer","produce","draft","isShown","demo","initValue","increment","newProp","concat","sort","a","validateConstants","consts","validKeys","responseKeys","opt","real","cellLabel","rows","periodGroup","typeGroup","conv","select","rootReducer","combineReducers","appPropsReducer","datasetsPropsReducer","downloadReducer","FinImpProps","finImpPropsReducer","plotsPropsReducer","recPropsSelector","shutdownDialogReducer","specDialogReducer","workspacesPropsReducer","qcodePropsSelector","initStore","enhancer","applyMiddleware","thunkMiddleware","createStore","composeWithDevTools","renderApp","globalStore","ReactDOM","render","settings"],"mappings":"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","file":"static/js/main.c0c87743.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"ShutdownDialog_Root__1INig\",\"Blocker\":\"ShutdownDialog_Blocker__1mKVk\",\"Opened\":\"ShutdownDialog_Opened__2J5VD\",\"Content\":\"ShutdownDialog_Content__b3nLa\",\"Title\":\"ShutdownDialog_Title__3DCAY\",\"Buttons\":\"ShutdownDialog_Buttons__1AI1_\",\"WhiteButton\":\"ShutdownDialog_WhiteButton__1SZ9O\",\"RedButton\":\"ShutdownDialog_RedButton__2C6ol\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Streams_Root__lSPdO\",\"MenuTrigger\":\"Streams_MenuTrigger__2t2ie\",\"MenuTriggerText\":\"Streams_MenuTriggerText__3H7Co\",\"MenuTriggerIcon\":\"Streams_MenuTriggerIcon__3V4Be\",\"LessIcon\":\"Streams_LessIcon__2DQ2y\",\"Menu\":\"Streams_Menu__2c-fX\",\"active\":\"Streams_active__6Fr9W\"};","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\ni18n\r\n  .use(initReactI18next)\r\n  .init({\r\n    fallbackLng: 'en',\r\n    lng: 'en',\r\n    resources: {\r\n      en: {\r\n        translations: require('./locales/en/translations.json'),\r\n      },\r\n      ru: {\r\n        translations: require('./locales/ru/translations.json'),\r\n      },\r\n    },\r\n    ns: ['translations'],\r\n    defaultNS: 'translations',\r\n  })\r\n  .catch((err) => {\r\n    window?.api?.log?.error('\\ni18n initialization error!');\r\n    window?.api?.log?.error(err.message);\r\n  });\r\n\r\ni18n.languages = ['en', 'ru'];\r\n\r\nexport default i18n;\r\n","import React from 'react';\n\nimport styles from './FrameBarButton.module.css';\n\nconst FrameBarButton = ({ iconPath, marginTop, marginRight, onClick }) => {\n  return (\n    <div\n      onClick={onClick}\n      className={styles.Root}\n      style={{ marginRight: `${marginRight}px` }}\n    >\n      <img\n        src={iconPath}\n        alt={''}\n        className={styles.Icon}\n        style={{ top: `${marginTop}%` }}\n      />\n    </div>\n  );\n};\n\nexport default FrameBarButton;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABgWlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kbtLA0EQhz8TJUEjEWJhIRJErYzECEEbi4gvUIsYwahNcnkJeRx3CSK2gq2gINr4KvQv0FawFgRFEcROsFa00XDOJYEEMbPMzre/3Rl2Z8ESSisZvdELmWxeC04G3IvhJbftFStd2HHhiCi6Ojs/EaKufT3QYMY7j1mr/rl/rSUW1xVosAuPKqqWF54SnlnLqybvCrcrqUhM+Fy4X5MLCt+berTMbyYny/xjshYKjoGlTdidrOFoDSspLSMsL6cnky4olfuYL3HEswvzErvFO9EJMkkAN9OMM4afQUZk9uPBx4CsqJPvLeXPkZNcRWaVdTRWSZIiT7+oBakel5gQPS4jzbrZ/7991RNDvnJ1RwCaXgzjoxdsO1DcNozvY8MonoD1Ga6y1fzcEQx/ir5d1XoOwbkJF9dVLboHl1vQ8aRGtEhJsopbEgl4P4PWMLhuoXm53LPKPqePENqQr7qB/QPok/POlV8wemfNG0UItgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAJdJREFUSIm9lsENgDAMxCKGYInu/2UKlmAK8yBICAma5Cj3bHU2hErFzMyABizAbGKA2VntXGjAxpFVkTh8ddYGNHPbNSXJDX5medpISboMRRLuViTpTqZQfutIURlpFyDDAxId3pF8Aw9IQvBJsqsZOqKhH/kFrh/TCKAsyRTTkspThTvKXLtdBR6S8MOVOfbS941hvy07U8H3aCIgYR0AAAAASUVORK5CYII=\"","import { createSelector } from 'reselect';\n\nconst shutdownDialogProps = (state) => state.ShutdownDialog;\n\nexport const isShutdownDialogOpened = createSelector(\n  shutdownDialogProps,\n  (props) => props?.isOpened\n);\n","export const REQUEST = '_REQUEST';\nexport const SUCCESS = '_SUCCESS';\nexport const FAILURE = '_FAILURE';\n\nexport const SET_APP_WORKSPACE = 'SET_APP_WORKSPACE';\n\nexport const LOAD_DATASET = 'LOAD_DATASET';\n\nexport const OPEN_DOWNLOAD_DIALOG = 'OPEN_DOWNLOAD_DIALOG';\nexport const CLOSE_DOWNLOAD_DIALOG = 'CLOSE_DOWNLOAD_DIALOG';\nexport const SET_DOWNLOAD_VALUE = 'SET_DOWNLOAD_VALUE';\nexport const DOWNLOAD_DATA = 'DOWNLOAD_DATA';\n\nexport const SET_PLOT_STREAM = 'SET_PLOT_STREAM';\nexport const SET_PLOT_PERIOD = 'SET_PLOT_PERIOD';\nexport const SET_PLOT_TARGETS = 'SET_PLOT_TARGETS';\n\nexport const OPEN_SHUTDOWN_DIALOG = 'OPEN_SHUTDOWN_DIALOG';\nexport const CLOSE_SHUTDOWN_DIALOG = 'CLOSE_SHUTDOWN_DIALOG';\n\nexport const OPEN_QRCODE_DIALOG = 'OPEN_QRCODE_DIALOG';\nexport const CLOSE_QRCODE_DIALOG = 'CLOSE_QRCODE_DIALOG';\nexport const REQUEST_QRCODE = 'REQUEST_QRCODE';\n\nexport const OPEN_SPEC_DIALOG = 'OPEN_SPEC_DIALOG';\nexport const CLOSE_SPEC_DIALOG = 'CLOSE_SPEC_DIALOG';\nexport const SET_SPECIFICATION = 'SET_SPECIFICATION';\nexport const SET_CONSTANTS = 'SET_CONSTANTS';\nexport const UPDATE_CONSTANTS = 'UPDATE_CONSTANTS';\nexport const SAVE_SPECS_AND_CONSTS = 'SAVE_SPECS_AND_CONSTS';\n\nexport const REQUEST_NEW_RECS = 'REQUEST_NEW_RECS';\nexport const CLOSE_REC = 'CLOSE_REC';\nexport const REC_ACTION_SUBMIT = 'REC_ACTION_SUBMIT';\n","import React from 'react';\r\nimport cn from 'classnames';\r\n\r\nimport styles from './ShutdownDialog.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { isShutdownDialogOpened } from '../../../redux/ShutdownDialog/selectors';\r\nimport { closeShutdownDialog } from '../../../redux/ShutdownDialog/actions';\r\nimport {useTranslation} from \"react-i18next\";\r\n\r\nconst ShutdownDialog = ({ isOpened, closeDialog, appExit }) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <div className={cn(styles.Root, { [styles.Opened]: isOpened })}>\r\n      <div className={styles.Blocker} onClick={closeDialog} />\r\n      <div className={styles.Content}>\r\n        <span className={styles.Title}>{t(`Dialogs.ShutDownDialog.title`)}</span>\r\n        <div className={styles.Buttons}>\r\n          <button className={styles.RedButton} onClick={appExit}>\r\n            {t(`Dialogs.ShutDownDialog.acceptBtn`)}\r\n          </button>\r\n          <button className={styles.WhiteButton} onClick={closeDialog}>\r\n            {t(`Dialogs.ShutDownDialog.cancelBtn`)}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  isOpened: isShutdownDialogOpened,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  closeDialog: () => dispatch(closeShutdownDialog()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShutdownDialog);\r\n","import {OPEN_SHUTDOWN_DIALOG, CLOSE_SHUTDOWN_DIALOG} from \"../constants\";\n\nexport const openShutdownDialog = () => ({\n  type: OPEN_SHUTDOWN_DIALOG\n});\n\nexport const closeShutdownDialog = () => ({\n  type: CLOSE_SHUTDOWN_DIALOG\n});","import React from 'react';\r\n\r\nimport FrameBarButton from './FrameBarButton';\r\nimport ExitIcon from '../../assets/images/FrameBar_Exit.png';\r\nimport CollapseIcon from '../../assets/images/FrameBar_Collapse.png';\r\n\r\nimport styles from './FrameBar.module.css';\r\nimport ShutdownDialog from './ShutdownDialog';\r\nimport { openShutdownDialog } from '../../redux/ShutdownDialog/actions';\r\nimport { connect } from 'react-redux';\r\n\r\nconst FrameBar = ({ openDialog }) => {\r\n  const appExit = () => {\r\n    window?.api?.send?.('appExit', true);\r\n  };\r\n\r\n  const appCollapse = () => {\r\n    window?.api?.send?.('appCollapse', true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.Root}>\r\n        <FrameBarButton\r\n          iconPath={ExitIcon}\r\n          marginTop={50}\r\n          marginRight={24}\r\n          onClick={openDialog}\r\n        />\r\n        <FrameBarButton\r\n          iconPath={CollapseIcon}\r\n          marginTop={62}\r\n          marginRight={0}\r\n          onClick={appCollapse}\r\n        />\r\n      </div>\r\n      <ShutdownDialog appExit={appExit} />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  openDialog: () => dispatch(openShutdownDialog()),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(FrameBar);\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAECAIAAAAbAWhPAAABgWlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kbtLA0EQhz8TJUEjEWJhIRJErYzECEEbi4gvUIsYwahNcnkJeRx3CSK2gq2gINr4KvQv0FawFgRFEcROsFa00XDOJYEEMbPMzre/3Rl2Z8ESSisZvdELmWxeC04G3IvhJbftFStd2HHhiCi6Ojs/EaKufT3QYMY7j1mr/rl/rSUW1xVosAuPKqqWF54SnlnLqybvCrcrqUhM+Fy4X5MLCt+berTMbyYny/xjshYKjoGlTdidrOFoDSspLSMsL6cnky4olfuYL3HEswvzErvFO9EJMkkAN9OMM4afQUZk9uPBx4CsqJPvLeXPkZNcRWaVdTRWSZIiT7+oBakel5gQPS4jzbrZ/7991RNDvnJ1RwCaXgzjoxdsO1DcNozvY8MonoD1Ga6y1fzcEQx/ir5d1XoOwbkJF9dVLboHl1vQ8aRGtEhJsopbEgl4P4PWMLhuoXm53LPKPqePENqQr7qB/QPok/POlV8wemfNG0UItgAAAAlwSFlzAAALEwAACxMBAJqcGAAAABZJREFUGJVj/P//PwM1ABNVTBmUBgEAaHsDBZx17sUAAAAASUVORK5CYII=\"","import { createSelector } from \"reselect\";\n\nexport const workspacesPropsSelector = createSelector(\n  (state) => state.WorkSpacesProps,\n  (props) => props\n);\n\nexport const workspacesIdsSelector = createSelector(\n  workspacesPropsSelector,\n  (workspacesProps) => Object.keys(workspacesProps?.byId)\n);\n\nexport const workSpacePropsByIdSelector = createSelector(\n  workspacesPropsSelector,\n  (_, { workspaceId }) => workspaceId,\n  (workSpacesProps, workspaceId) => workSpacesProps?.byId[workspaceId]\n);\n\nexport const workSpaceStatusTagSelector = createSelector(\n  workSpacePropsByIdSelector,\n  (props) => props?.status_tag\n);\n\nexport const workSpaceLabelSelector = createSelector(\n  workSpacePropsByIdSelector,\n  (workspaceProps) => workspaceProps?.label || \"Default\"\n);\n\nexport const workSpaceSchemes = createSelector(\n  workSpacePropsByIdSelector,\n  (workspaceProps) => workspaceProps?.schemes\n);\n\nexport const advicesBySchemeIdSelector = createSelector(\n  workSpaceSchemes,\n  (_, { schemeId }) => schemeId,\n  (schemesProps, schemeId) => schemesProps?.byId[schemeId]?.advices\n);\n\nexport const labelsBySchemeIdSelector = createSelector(\n  workSpaceSchemes,\n  (_, { schemeId }) => schemeId,\n  (schemesProps, schemeId) => schemesProps?.byId[schemeId]?.labels\n);\n\nexport const workSpacePlotStreams = createSelector(\n  workSpacePropsByIdSelector,\n  (workspaceProps) => workspaceProps?.plotStreams\n);\n\nexport const streamDefaultTags = createSelector(\n  workSpacePlotStreams,\n  (_, { streamId }) => streamId,\n  (streamsProps, streamId) => streamsProps?.byId[streamId].defaultTags\n);\n\nexport const streamDatasetId = createSelector(\n  workSpacePlotStreams,\n  (_, { streamId }) => streamId,\n  (streamsProps, streamId) => streamsProps?.byId[streamId].datasetId\n);\n\nexport const workspaceTagsSelector = createSelector(\n  workSpacePropsByIdSelector,\n  (workspaceProps) => workspaceProps?.plotTags\n);\n\nexport const workspaceWidgetsSelector = createSelector(\n  workSpacePropsByIdSelector,\n  (workspaceProps) => workspaceProps?.infoWidgets || []\n);\n\nexport const workspaceDialogPropsSelector = createSelector(\n  workSpacePropsByIdSelector,\n  (workspaceProps) => workspaceProps?.dialogProps || {}\n);\n\nexport const workspaceSpecDefaultsSelector = createSelector(\n  workspaceDialogPropsSelector,\n  (dialogProps) => dialogProps?.specifications?.default\n);\n","export function getLastPoint(dataset, targetId, precision) {\n  try {\n    const value = Number(Object.values(dataset[targetId]).slice(-1)[0]);\n\n    let result = value.toFixed(precision);\n    result = result.length >= 7 ? result.slice(0, 7) : result;\n\n    return Number(result).toLocaleString();\n  } catch (err) {\n    return \" ~ \";\n  }\n}\n\nexport function getStatus(dataset, targetId) {\n  try {\n    return Number(Object.values(dataset[targetId]).slice(-1)[0]);\n  } catch (err) {\n    return true;\n  }\n}\n","import { createSelector } from \"reselect\";\n\nexport const datasetsPropsSelector = createSelector(\n  (state) => state.DatasetsProps,\n  (props) => props\n);\n\nexport const datasetsByWorkspaceIdSelector = createSelector(\n  datasetsPropsSelector,\n  (_, { workspaceId }) => workspaceId,\n  (workspacesDatasetsProps, workspaceId) => workspacesDatasetsProps[workspaceId]\n);\n\nexport const workspaceDatasetsIdsSelector = createSelector(\n  datasetsByWorkspaceIdSelector,\n  (workspacesDatasetsProps) => Object.keys(workspacesDatasetsProps?.byId)\n);\n\nexport const workspaceDatasetsPropsSelector = createSelector(\n  datasetsByWorkspaceIdSelector,\n  (datasetsProps) => datasetsProps?.byId\n);\n","import { createSelector } from \"reselect\";\n\nconst recommendationsSelector = (state) => state.RecProps;\n\nexport const recsAPIsSelector = createSelector(\n  recommendationsSelector,\n  (recs) => recs?.recsAPIs || []\n);\n\nexport const recsQueueSelector = createSelector(\n  recommendationsSelector,\n  (recs) => recs?.queue || []\n);\n\nexport const recUnstableTextSelector = createSelector(\n  recommendationsSelector,\n  (recs) => recs?.unstableText || \" ~ \"\n);\n\nexport const recsValuesSelector = createSelector(\n  recommendationsSelector,\n  (recs) => recs?.values || {}\n);\n\nexport const maxShownRecsSelector = createSelector(\n  recommendationsSelector,\n  (recs) => recs?.maxShown || 3\n);\n\nexport const recsTimerIntervalSelector = createSelector(\n  recommendationsSelector,\n  (recs) => recs?.timerInterval || 60000\n);\n","import React from \"react\";\n\nimport styles from \"./Advice.module.css\";\nimport { createStructuredSelector } from \"reselect\";\nimport { connect } from \"react-redux\";\nimport { getLastPoint, getStatus } from \"./utils\";\nimport { workspaceDatasetsPropsSelector } from \"../../../../redux/DatasetsProps/selectors\";\nimport PropTypes from \"prop-types\";\nimport { recsValuesSelector } from \"../../../../redux/RecProps/selectors\";\nimport { workSpaceStatusTagSelector } from \"../../../../redux/WorkSpacesProps/selectors\";\nimport cn from \"classnames\";\n\nconst Advice = ({ adviceProps, datasets, recValues, workspaceStatusTag }) => {\n  const {\n    label,\n    optTagId,\n    realTagId,\n    precision,\n    units,\n    margin,\n    datasetsId,\n    recValId,\n    statusTag,\n  } = adviceProps;\n  const optDataset = datasets[datasetsId[\"opt\"]].dataset || {};\n  const realDataset = datasets[datasetsId[\"real\"]].dataset || {};\n  const workspaceStatus = getStatus(optDataset, workspaceStatusTag);\n  const adviceStatus = getStatus(optDataset, statusTag);\n\n  return (\n    <div className={styles.Root} style={{ left: `${margin}px` }}>\n      <span className={styles.Name}>{label}</span>\n      <span\n        className={cn(styles.OptVal, {\n          [styles.Hidden]: !workspaceStatus || !adviceStatus,\n        })}\n      >\n        <span className={styles.OptMarker}>OPT</span>\n        <span>\n          {getLastPoint(\n            recValId ? recValues[recValId] : optDataset,\n            optTagId,\n            precision\n          )}\n        </span>\n        <span className={styles.units}>{` ${units}`}</span>\n      </span>\n      <span className={styles.RealVal}>\n        <span className={styles.RealMarker}>REAL</span>\n        <span>{getLastPoint(realDataset, realTagId, precision)}</span>\n        <span className={styles.units}>{` ${units}`}</span>\n      </span>\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  datasets: workspaceDatasetsPropsSelector,\n  recValues: recsValuesSelector,\n  workspaceStatusTag: workSpaceStatusTagSelector,\n});\n\nAdvice.propTypes = {\n  adviceProps: PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    optTagId: PropTypes.string.isRequired,\n    realTagId: PropTypes.string.isRequired,\n    precision: PropTypes.number.isRequired,\n    units: PropTypes.string.isRequired,\n    margin: PropTypes.number.isRequired,\n    statusTag: PropTypes.string,\n    datasetsId: PropTypes.shape({\n      opt: PropTypes.string.isRequired,\n      real: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n  datasets: PropTypes.objectOf(\n    PropTypes.shape({\n      dataset: PropTypes.object.isRequired,\n    })\n  ).isRequired,\n  recValues: PropTypes.object.isRequired,\n  workspaceStatusTag: PropTypes.string,\n};\n\nexport default connect(mapStateToProps)(Advice);\n","import React from \"react\";\nimport Advice from \"./Advice\";\nimport styles from \"./Advices.module.css\";\nimport \"./Advices.css\";\nimport { createStructuredSelector } from \"reselect\";\nimport { connect } from \"react-redux\";\nimport { advicesBySchemeIdSelector } from \"../../../redux/WorkSpacesProps/selectors\";\nimport PropTypes from \"prop-types\";\n\nconst Advices = ({ workspaceId, advicesProps }) => {\n  return (\n    <div className={styles.Root}>\n      {Object.keys(advicesProps.byId).map((adviceId) => (\n        <Advice\n          key={adviceId}\n          adviceProps={advicesProps.byId[adviceId]}\n          workspaceId={workspaceId}\n        />\n      ))}\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  advicesProps: advicesBySchemeIdSelector,\n});\n\nAdvices.propTypes = {\n  workspaceId: PropTypes.string.isRequired,\n  advicesProps: PropTypes.shape({\n    byId: PropTypes.objectOf(PropTypes.object).isRequired,\n  }).isRequired,\n};\n\nexport default connect(mapStateToProps)(Advices);\n","import React from \"react\";\nimport cn from \"classnames\";\n\nimport styles from \"./Label.module.css\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { prepareValue } from \"../../../Navigation/InfoWidgets/InfoWidget/InfoTable/InfoCell/Row/utils\";\nimport { workspaceDatasetsPropsSelector } from \"../../../../redux/DatasetsProps/selectors\";\nimport PropTypes from \"prop-types\";\n\nconst checkWarn = (value, restrictions) => {\n  if ([\" ~ \", \"\"].includes(value)) return true;\n  return Number(value) < restrictions.min || Number(value) > restrictions.max;\n};\n\nconst Label = ({ props, datasets }) => {\n  const dataset = datasets[props.datasetId]?.dataset || {};\n  const value = prepareValue(dataset, props.tagId, null, props.texted);\n  const resText = props.text + value + props.postfix;\n  const warnStatus = props.restrictions ? checkWarn(value, props.restrictions) : false;\n\n  return (\n    <div\n      className={cn(styles.Root, {\n        [styles.Shown]: true,\n        [styles.Warn]: warnStatus,\n      })}\n      style={{\n        top: `${props.pos.y}px`,\n        left: `${props.pos.x}px`,\n        fontSize: `${props.fontSize}px`,\n      }}\n    >\n      {props.capitalize ? resText.toUpperCase() : resText}\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  datasets: workspaceDatasetsPropsSelector,\n});\n\nLabel.propTypes = {\n  props: PropTypes.shape({\n    datasetId: PropTypes.string,\n    tagId: PropTypes.string,\n    text: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    capitalize: PropTypes.bool,\n    pos: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n    }).isRequired,\n    texted: PropTypes.objectOf(PropTypes.string),\n  }),\n  workspaceId: PropTypes.string.isRequired,\n  datasets: PropTypes.object,\n};\n\nexport default connect(mapStateToProps)(Label);\n","export const prepareValue = (dataset, targetId, precision, texted) => {\n  try {\n    let value = Number(Object.values(dataset[targetId]).slice(-1)[0]);\n\n    if (texted) return texted[`${value}`];\n\n    if (value <= 0) return Number(0).toFixed(0);\n\n    value = value.toFixed(precision);\n\n    return Number(value).toLocaleString();\n  } catch (err) {\n    if (targetId == null) return \"\";\n    return \" ~ \";\n  }\n};\n\nexport const prepareMargin = (name) => {\n  const len = name.length;\n  if (!len) return 0;\n  if (len < 3) return 82 - len * 23;\n  if (len >= 3) return 13;\n};\n\nexport function getStatus(dataset, targetId) {\n  try {\n    return Number(Object.values(dataset[targetId]).slice(-1)[0]);\n  } catch (err) {\n    return true;\n  }\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { labelsBySchemeIdSelector } from \"../../../redux/WorkSpacesProps/selectors\";\nimport Label from \"./Label\";\nimport PropTypes from \"prop-types\";\n\nconst Labels = ({ labels, workspaceId }) => {\n  return (\n    <>\n      {labels.map((labelProps) => (\n        <Label\n          key={labelProps.tagId}\n          workspaceId={workspaceId}\n          props={labelProps}\n        />\n      ))}\n    </>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  labels: labelsBySchemeIdSelector,\n});\n\nLabels.propTypes = {\n  labels: PropTypes.arrayOf(PropTypes.object),\n  workspaceId: PropTypes.string.isRequired,\n};\n\nexport default connect(mapStateToProps)(Labels);\n","import React from \"react\";\r\nimport styles from \"./Scheme.module.css\";\r\nimport \"./Scheme.css\";\r\nimport Slider from \"infinite-react-carousel\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport { workSpaceSchemes } from \"../../../redux/WorkSpacesProps/selectors\";\r\nimport PropTypes from \"prop-types\";\r\nimport Advices from \"../Advices\";\r\nimport { CSSTransition, SwitchTransition } from \"react-transition-group\";\r\nimport Labels from \"../Labels\";\r\n\r\nconst sliderSettings = {\r\n  arrows: false,\r\n  arrowsBlock: false,\r\n  dots: true,\r\n  overScan: 1,\r\n  swipe: true,\r\n};\r\n\r\n// TODO: Add adaptive scheme switcher by data tag\r\n\r\nconst Scheme = ({ workspaceId, schemesProps }) => {\r\n  return (\r\n    <SwitchTransition>\r\n      <CSSTransition\r\n        key={workspaceId}\r\n        addEndListener={(node, done) =>\r\n          node.addEventListener(\"transitionend\", done, false)\r\n        }\r\n        classNames=\"scheme-fade\"\r\n      >\r\n        <div className={styles.Root}>\r\n          <Slider {...sliderSettings} workspaceId={workspaceId}>\r\n            {schemesProps &&\r\n              Object.keys(schemesProps.byId).map((schemeId) => (\r\n                <div key={schemeId}>\r\n                  <Advices schemeId={schemeId} workspaceId={workspaceId} />\r\n                  <img\r\n                    src={'http://45.61.48.18/' + schemesProps.byId[schemeId].src}\r\n                    alt={\"\"}\r\n                  />\r\n                  <Labels schemeId={schemeId} workspaceId={workspaceId} />\r\n                </div>\r\n              ))}\r\n          </Slider>\r\n        </div>\r\n      </CSSTransition>\r\n    </SwitchTransition>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  schemesProps: workSpaceSchemes,\r\n});\r\n\r\nScheme.propTypes = {\r\n  workspaceId: PropTypes.string.isRequired,\r\n  schemesProps: PropTypes.shape({\r\n    byId: PropTypes.objectOf(\r\n      PropTypes.shape({\r\n        src: PropTypes.string.isRequired,\r\n        size: PropTypes.shape({\r\n          width: PropTypes.number,\r\n          height: PropTypes.number,\r\n        }),\r\n      })\r\n    ).isRequired,\r\n  }),\r\n};\r\n\r\nexport default connect(mapStateToProps)(Scheme);\r\n","import { createSelector } from 'reselect';\n\nconst appPropertiesSelector = (state) => state.AppProps;\n\nexport const appWorkspace = createSelector(\n  appPropertiesSelector,\n  (appProps) => {\n    return appProps?.currentWorkspace;\n  }\n);\n\nexport const appLoadedStatus = createSelector(\n  appPropertiesSelector,\n  (appProps) => {\n    return appProps?.isLoaded;\n  }\n);\n\nexport const appLocale = createSelector(appPropertiesSelector, (appProps) => {\n  return appProps?.locale || 'en';\n});\n","import React from 'react';\nimport cn from 'classnames';\nimport StreamCheckmark from '../../../../../../../assets/images/Stream_Checkmark.png';\nimport styles from './Stream.module.css';\nimport { connect } from 'react-redux';\nimport { setPlotStream } from '../../../../../../../redux/PlotsProps/actions';\nimport PropTypes from 'prop-types';\n\nconst Stream = ({ streamProps, closeDropdown, isSelected, setStream }) => {\n  const handleClick = () => {\n    closeDropdown();\n    setStream(streamProps.id);\n  };\n\n  return (\n    <li className={styles.Root} onClick={handleClick}>\n      <span className={styles.Text}>{streamProps.text}</span>\n      <img\n        src={StreamCheckmark}\n        alt={''}\n        className={cn(styles.Checkmark, {\n          [styles.Checked]: isSelected,\n        })}\n      />\n    </li>\n  );\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  setStream: (streamId) =>\n    dispatch(setPlotStream(ownProps.plotId, streamId, ownProps.workspaceId)),\n});\n\nStream.propTypes = {\n  streamProps: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n  isSelected: PropTypes.bool.isRequired,\n  setStream: PropTypes.func.isRequired,\n};\n\nexport default connect(null, mapDispatchToProps)(Stream);\n","import {\n  SET_PLOT_STREAM,\n  SET_PLOT_PERIOD,\n  SET_PLOT_TARGETS,\n} from '../constants';\nimport { workSpacePlotStreams } from '../WorkSpacesProps/selectors';\n\nexport const setPlotStream =\n  (plotId, streamId, workspaceId) => async (dispatch, getState) => {\n    const state = getState();\n    const { defaultTags, datasetId, defaultPeriod } = workSpacePlotStreams(\n      state,\n      {\n        workspaceId,\n      }\n    )?.byId[streamId];\n\n    dispatch({\n      type: SET_PLOT_STREAM,\n      payload: {\n        plotId,\n        streamId,\n        tags: defaultTags,\n        datasetId,\n        workspaceId,\n        defaultPeriod,\n      },\n    });\n  };\n\nexport const setPlotTargets = (plotId, tags, workspaceId) => ({\n  type: SET_PLOT_TARGETS,\n  payload: { plotId, tags, workspaceId },\n});\n\nexport const setPlotPeriod = (plotId, period, workspaceId) => ({\n  type: SET_PLOT_PERIOD,\n  payload: { plotId, period, workspaceId },\n});\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAVCAYAAAC33pUlAAAACXBIWXMAAAsSAAALEgHS3X78AAABK0lEQVRIibXUwVHDQAwF0E9y4RZKcAcxHbgEpwKUDmiBEqhgPx1w40g6YNNB0gFUYEaMnNnZkZ1grzXjg3fWeitbFrquW/QKITR9/hUWDJIC4JMkVblTcYkwKCSpXxfBSNYADgA2tvQDoCn+GocgEYlFsTFIb4ph1yCUahCSDwBOCaSxE5H3dN8qe2AqdMigfQ5dMJKNnszadQq0zSB6+9dVVbUAPgDcA2hjjOe6rqO3eQ7UV6YPnJO1cGOFOfQyBqFvEKeTNB7TTsqq0qRPydKbiFw94N83s6SNtevl5HaIIhDSbnTATQ7OgeD9Z0M/J4DnORC8CWIVtsmSol8ZdDT8X+GOKxHRyvYDiY42hr6LYAbSASdDo5gDzoI0bhrEJPUbRhHRYTstAPwCtMrqtfoiPVwAAAAASUVORK5CYII=\"","import { createSelector } from 'reselect';\n\nconst plotsPropertiesSelector = (state) => state.PlotsProps;\n\nexport const plotsPropsByWorkspaceId = createSelector(\n  plotsPropertiesSelector,\n  (_, { workspaceId }) => workspaceId,\n  (workspacesProps, workspaceId) => workspacesProps[workspaceId]\n);\n\nexport const plotTraceConf = createSelector(\n  plotsPropsByWorkspaceId,\n  (plotsProps) => plotsProps?.chart_conf || {}\n);\n\nexport const plotStreamByIdSelector = createSelector(\n  plotsPropsByWorkspaceId,\n  (_, { plotId }) => plotId,\n  (plotsProps, plotId) => plotsProps?.byId[plotId]?.streamId\n);\n\nexport const plotPeriodByIdSelector = createSelector(\n  plotsPropsByWorkspaceId,\n  (_, { plotId }) => plotId,\n  (plotsProps, plotId) => plotsProps?.byId[plotId]?.period\n);\n\nexport const plotTargetsByIdSelector = createSelector(\n  plotsPropsByWorkspaceId,\n  (_, { plotId }) => plotId,\n  (plotsProps, plotId) => plotsProps?.byId[plotId]?.tags\n);\n\nexport const plotDatasetIdByIdSelector = createSelector(\n  plotsPropsByWorkspaceId,\n  (_, { plotId }) => plotId,\n  (plotsProps, plotId) => plotsProps?.byId[plotId]?.datasetId\n);\n","import React, { useRef } from \"react\";\nimport cn from \"classnames\";\nimport { useDetectOutsideClick } from \"../../../../../../hooks/useOutsideClick\";\nimport ArrowImg from \"../../../../../../assets/images/Plot_Streams_Arrow.png\";\nimport styles from \"./Streams.module.css\";\nimport Stream from \"./Stream\";\nimport { createStructuredSelector } from \"reselect\";\nimport { connect } from \"react-redux\";\nimport { plotStreamByIdSelector } from \"../../../../../../redux/PlotsProps/selectors\";\nimport { workSpacePlotStreams } from \"../../../../../../redux/WorkSpacesProps/selectors\";\nimport PropTypes from \"prop-types\";\n\nconst Streams = ({ plotId, workspaceId, selectedStream, streamsProps }) => {\n  const dropdownRef = useRef(null);\n  const [isActive, setIsActive] = useDetectOutsideClick(dropdownRef, false);\n  const onClick = () => setIsActive(!isActive);\n\n  return (\n    <div className={styles.Root}>\n      <button onClick={onClick} className={styles.MenuTrigger}>\n        <div className={styles.MenuTriggerText}>\n          {streamsProps && streamsProps.byId[selectedStream].text}\n        </div>\n        <div\n          className={cn(styles.MenuTriggerIcon, {\n            [styles.LessIcon]: isActive,\n          })}\n        >\n          <img alt=\"\" src={ArrowImg} />\n        </div>\n      </button>\n      <ul\n        ref={dropdownRef}\n        className={cn(styles.Menu, { [styles.active]: isActive })}\n      >\n        {streamsProps &&\n          Object.keys(streamsProps.byId).map((streamId) => (\n            <Stream\n              key={streamId}\n              streamProps={streamsProps.byId[streamId]}\n              isSelected={selectedStream === streamId}\n              closeDropdown={onClick}\n              plotId={plotId}\n              workspaceId={workspaceId}\n            />\n          ))}\n      </ul>\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  selectedStream: plotStreamByIdSelector,\n  streamsProps: workSpacePlotStreams,\n});\n\nStreams.propTypes = {\n  plotId: PropTypes.string.isRequired,\n  workspaceId: PropTypes.string.isRequired,\n  selectedStream: PropTypes.string.isRequired,\n  streamProps: PropTypes.shape({\n    byId: PropTypes.object.isRequired,\n  }),\n};\n\nexport default connect(mapStateToProps)(Streams);\n","import { useEffect, useState } from 'react';\n\n/**\n * Hook for handling closing when clicking outside of an element\n * @param {React.node} el\n * @param {boolean} initialState\n */\nexport const useDetectOutsideClick = (el, initialState) => {\n  const [isActive, setIsActive] = useState(initialState);\n\n  useEffect(() => {\n    const onClick = (e) => {\n      if (el.current !== null && !el.current.contains(e.target)) {\n        setIsActive(!isActive);\n      }\n    };\n\n    if (isActive) {\n      window.addEventListener('click', onClick);\n    }\n\n    return () => {\n      window.removeEventListener('click', onClick);\n    };\n  }, [isActive, el]);\n\n  return [isActive, setIsActive];\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAuCAYAAAB04nriAAABgmlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kbtLA0EQhz8TNeKDCFpYCAaJVipRIWhjEdEoqEWM4KtJLpdEyOO4S5BgK9gKCqKNr0L/Am0Fa0FQFEHsBGtFGw3nXBJIEDPL7Hz7251hdxZswYSSNGo9kExl9IDf51pcWnY5XrHTRT1enCHF0GbnJ4NUta8Haqx412/Vqn7uX2uKqIYCNQ3CY4qmZ4SnhGfWM5rFu8LtSjwUET4X7tPlgsL3lh4u8pvFsSL/WKwHA+NgaxV2xSo4XMFKXE8Ky8txJxNZpXQf6yXNamphXmK3eCcGAfz4cDHNBOPSk0FGZfbSzxADsqJKvqeQP0dachWZNXLorBEjToY+UbNSXZUYFV2VkSBn9f9vX43o8FCxerMP6l5M86MHHDuQ3zbN72PTzJ+A/RmuUuX89BGMfIq+Xdbch+DchIvrshbeg8st6HjSQnqoINnFbdEovJ9ByxK03ULjSrFnpX1OHyG4IV91A/sH0Cvnnau/gdNn8ryg8TsAAAAJcEhZcwAACxMAAAsTAQCanBgAAAGZSURBVGiB7ZbJSgNBEIYrlzm7JCbuoqhvET3pywgiBhURRVFRPPs+eYC4r7gFg+9g+C7x0oemcO/pmUt90Jfu6qrvZ/owIoZhGIZhGIZhGEYEgGmgkMGcAjAde85PEvNAGziKGdqFPQLegblYc36SqLqwHbcOY4R2YQ+8OW2gmvac34h0Aw1PpAPspxnahd1TMxpAV1oz/irUDZwood20QgM7qvcp0JNG7xCpHuBMiW2n0HdL9TwHetNwDgbodUK+4FZAvw3V6xIopukcDFAELpTo5j/6rKseV0AphnMwQMkJ+sIbf7i/qu7eAH0xnYMB+oBrJb7+i3s1decWKGfhHIwLfaMCrH1Tv6Rq74FKls7BAGX3lfwgK5/ULaqaB2AgD+dggApwpwLVvPMFdfYIDMZ0yuKnv19E6iIy5W0vi0hbRI69vRcRmUmS5C2mT/TAIiLuidZFZPKLkqaIzCZJ0srCJxOAQfdkO2o1gdG8/aIADAFPXthXYCxvr6gAw8Az0ALG8/bJBGAEmMjbwzAMwzAMwzAM40s+AM3NZl7MQx7ZAAAAAElFTkSuQmCC\"","import React from 'react';\nimport cn from 'classnames';\n\nimport styles from './Period.module.css';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport { plotPeriodByIdSelector } from '../../../../../../../redux/PlotsProps/selectors';\nimport { setPlotPeriod } from '../../../../../../../redux/PlotsProps/actions';\nimport PropTypes from 'prop-types';\n\nconst Period = ({ currentPeriod, buttonProps, setPeriod }) => {\n  const handleClick = () => {\n    setPeriod(buttonProps.value);\n  };\n\n  return (\n    <div\n      className={cn(styles.Root, {\n        [styles.active]: currentPeriod === buttonProps.value,\n      })}\n      onClick={handleClick}\n    >\n      {buttonProps.text || '? HOURS'}\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  currentPeriod: plotPeriodByIdSelector,\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  setPeriod: (period) =>\n    dispatch(setPlotPeriod(ownProps.plotId, period, ownProps.workspaceId)),\n});\n\nPeriod.propTypes = {\n  currentPeriod: PropTypes.number.isRequired,\n  buttonProps: PropTypes.shape({\n    value: PropTypes.number.isRequired,\n    text: PropTypes.string.isRequired,\n  }),\n  setPeriod: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Period);\n","import React from \"react\";\n\nimport Period from \"./Period\";\n\nimport styles from \"./Periods.module.css\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { plotDatasetIdByIdSelector } from \"../../../../../../redux/PlotsProps/selectors\";\nimport { workspaceDatasetsPropsSelector } from \"../../../../../../redux/DatasetsProps/selectors\";\n\nconst Periods = ({ plotId, workspaceId, datasetId, datasetsProps }) => {\n  return (\n    <div className={styles.Root}>\n      {datasetsProps &&\n        datasetId &&\n        datasetsProps[datasetId].periods.map((periodProps) => (\n          <Period\n            key={periodProps.text}\n            buttonProps={periodProps}\n            plotId={plotId}\n            workspaceId={workspaceId}\n          />\n        ))}\n    </div>\n  );\n};\n\nPeriods.propTypes = {\n  plotId: PropTypes.string.isRequired,\n  workspaceId: PropTypes.string.isRequired,\n  datasetId: PropTypes.string.isRequired,\n  datasetsProps: PropTypes.objectOf(\n    PropTypes.shape({\n      periods: PropTypes.arrayOf(\n        PropTypes.shape({\n          text: PropTypes.string.isRequired,\n          value: PropTypes.number.isRequired,\n        })\n      ).isRequired,\n    })\n  ).isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  datasetId: plotDatasetIdByIdSelector,\n  datasetsProps: workspaceDatasetsPropsSelector,\n});\n\nexport default connect(mapStateToProps)(Periods);\n","import React from 'react';\nimport cn from 'classnames';\nimport ReactTooltip from 'react-tooltip';\nimport styles from './Target.module.css';\nimport './TargetTooltip.css';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { plotTargetsByIdSelector } from '../../../../../../redux/PlotsProps/selectors';\nimport { setPlotTargets } from '../../../../../../redux/PlotsProps/actions';\nimport { workspaceTagsSelector } from '../../../../../../redux/WorkSpacesProps/selectors';\nimport PropTypes from 'prop-types';\n\nconst markerColors = {\n  '-1': 'rgba(255,83,73, 0)',\n  0: 'rgb(255,83,73)',\n  1: 'rgb(249, 132, 114)',\n  2: 'rgb(255, 184, 164)',\n  3: 'rgb(255, 236, 179)',\n};\n\nconst Target = ({ targetId, currPlotTargets, tagsProps, setTags }) => {\n  const indexOfTarget = currPlotTargets.indexOf(targetId);\n  const indexOfEmptySlot = currPlotTargets.indexOf('');\n  const tagProps = tagsProps.byId[targetId];\n\n  const handleClick = () => {\n    const tmp = currPlotTargets.slice();\n\n    if (indexOfTarget >= 0) {\n      tmp[indexOfTarget] = '';\n    } else {\n      if (indexOfEmptySlot >= 0) tmp[indexOfEmptySlot] = targetId;\n    }\n\n    setTags(tmp);\n  };\n\n  if (tagProps == null) return null;\n\n  return (\n    <>\n      <button\n        data-tip={tagsProps.byId[targetId].description}\n        className={cn(styles.Root, {\n          [styles.Disabled]: indexOfEmptySlot < 0 && indexOfTarget < 0,\n        })}\n        onClick={handleClick}\n      >\n        <svg\n          className={cn(styles.Marker, {\n            [styles.checkedMarker]: indexOfTarget >= 0,\n          })}\n          width=\"51px\"\n          height=\"45px\"\n          viewBox=\"0 0 51 45\"\n        >\n          <g transform=\"matrix(1,0,0,1,-2785.93,-2818.93)\">\n            <g transform=\"matrix(1,0,0,1,2801,2841.18)\">\n              <path\n                d=\"M0,-0.35L6.796,6.825L20,-7.175\"\n                style={{\n                  fill: 'none',\n                  fillRule: 'nonzero',\n                  stroke: markerColors[`${indexOfTarget}`],\n                  strokeWidth: '3px',\n                }}\n              />\n            </g>\n          </g>\n        </svg>\n        <p className={styles.Text}>{tagsProps.byId[targetId].text || '###'}</p>\n      </button>\n      <ReactTooltip\n        arrowColor={'rgba(0, 0, 0, 0)'}\n        backgroundColor={'#353535'}\n        textColor={'#9f9f9f'}\n        place={'top'}\n        effect={'solid'}\n        delayShow={500}\n        className={'targetTooltip'}\n      />\n    </>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  currPlotTargets: plotTargetsByIdSelector,\n  tagsProps: workspaceTagsSelector,\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  setTags: (tags) =>\n    dispatch(setPlotTargets(ownProps.plotId, tags, ownProps.workspaceId)),\n});\n\nTarget.propTypes = {\n  targetId: PropTypes.string.isRequired,\n  currPlotTargets: PropTypes.arrayOf(PropTypes.string).isRequired,\n  tagsProps: PropTypes.shape({\n    byId: PropTypes.objectOf(\n      PropTypes.shape({\n        text: PropTypes.string.isRequired,\n        description: PropTypes.string.isRequired,\n      }).isRequired\n    ).isRequired,\n  }).isRequired,\n  setTags: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Target);\n","import React from \"react\";\nimport styles from \"./Targets.module.css\";\nimport Target from \"./Target\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { plotStreamByIdSelector } from \"../../../../../redux/PlotsProps/selectors\";\nimport { workSpacePlotStreams } from \"../../../../../redux/WorkSpacesProps/selectors\";\nimport PropTypes from \"prop-types\";\n\nconst Targets = ({ plotId, workspaceId, streamsProps, currentStream }) => {\n  const targetsList = streamsProps ? streamsProps.byId[currentStream].tags : [];\n\n  return (\n    <div className={styles.Root}>\n      {targetsList.map((item) => (\n        <Target\n          key={item}\n          targetId={item}\n          plotId={plotId}\n          workspaceId={workspaceId}\n        />\n      ))}\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  streamsProps: workSpacePlotStreams,\n  currentStream: plotStreamByIdSelector,\n});\n\nTargets.propTypes = {\n  plotId: PropTypes.string.isRequired,\n  workspaceId: PropTypes.string.isRequired,\n  streamsProps: PropTypes.shape({\n    byId: PropTypes.objectOf(\n      PropTypes.shape({\n        tags: PropTypes.arrayOf(PropTypes.string).isRequired,\n      })\n    ).isRequired,\n  }).isRequired,\n  currentStream: PropTypes.string.isRequired,\n};\n\nexport default connect(mapStateToProps)(Targets);\n","import React, { useContext } from 'react';\nimport Streams from './Streams';\nimport Periods from './Periods';\nimport styles from './PlotBar.module.css';\nimport { PlotIdContext } from '../Plot';\nimport PropTypes from 'prop-types';\nimport Targets from '../Targets/Targets';\n\nconst PlotBar = ({ workspaceId }) => {\n  const plotId = useContext(PlotIdContext);\n\n  return (\n    <div className={styles.Root}>\n      <Streams plotId={plotId} workspaceId={workspaceId} />\n      <Periods plotId={plotId} workspaceId={workspaceId} />\n      <Targets plotId={plotId} workspaceId={workspaceId} />\n    </div>\n  );\n};\n\nPlotBar.propTypes = {\n  workspaceId: PropTypes.string.isRequired,\n};\n\nexport default PlotBar;\n","import React, { useState } from 'react';\nimport cn from 'classnames';\nimport ModeBarButtons from 'plotly.js/src/components/modebar/buttons';\n\nimport { resetIconPath, switchIconPath } from './utils';\n\nimport styles from './ModeBar.module.css';\n\nconst ModeBar = ({ activeReset, graphDiv }) => {\n  const [dragModeVal, setDragModeVal] = useState('zoom');\n\n  const switchMode = (e) => {\n    e.persist();\n    if (dragModeVal === 'zoom') {\n      setDragModeVal('zoom');\n      ModeBarButtons.pan2d.click(graphDiv, e, 'dragmode', 'zoom');\n    } else {\n      setDragModeVal('zoom');\n      ModeBarButtons.zoom2d.click(graphDiv, e, 'dragmode', 'zoom');\n    }\n  };\n\n  const resetAxes = (e) => {\n    e.persist();\n    ModeBarButtons.resetScale2d.click(graphDiv, e, 'zoom', 'reset');\n  };\n\n  return (\n    <div className={styles.Root}>\n      <button\n        className={cn(styles.ModeBarButton, {\n          [styles.alternative]: dragModeVal === 'zoom',\n        })}\n        data-attr=\"dragmode\"\n        data-val={dragModeVal}\n        onClick={switchMode}\n      >\n        <svg width=\"27px\" height=\"27px\" viewBox=\"0 0 27 27\">\n          <g transform=\"matrix(1,0,0,1,-2498,-1995)\">\n            <g transform=\"matrix(1,0,0,1,2522,2022)\">\n              <path d={switchIconPath} />\n            </g>\n          </g>\n        </svg>\n      </button>\n      <button\n        className={cn(styles.ModeBarButton, {\n          [styles.disabled]: !activeReset,\n        })}\n        data-attr=\"zoom\"\n        data-val=\"reset\"\n        onClick={resetAxes}\n      >\n        <svg width=\"27px\" height=\"27px\" viewBox=\"0 0 27 27\">\n          <g transform=\"matrix(1,0,0,1,-2573,-1995)\">\n            <g transform=\"matrix(1,0,0,1,2600,2004)\">\n              <path d={resetIconPath} />\n            </g>\n          </g>\n        </svg>\n      </button>\n    </div>\n  );\n};\n\nexport default ModeBar;\n","export const switchIconPath = `\n  M0,-27L-6,-27L-6,-24L0,-24L0,-18L3,-18L3,-24C3,-25.65 1.65,-27 0,-27M0,-3L-6,\n  -3L-6,0L0,0C1.65,0 3,-1.35 3,-3L3,-9L0,-9L0,-3ZM-21,-9L-24,-9L-24,-3C-24,\n  -1.35 -22.65,0 -21,0L-15,0L-15,-3L-21,-3L-21,-9ZM-24,-24L-24,-18L-21,-18L-21,\n  -24L-15,-24L-15,-27L-21,-27C-22.65,-27 -24,-25.65 -24,-24\n`;\n\nexport const resetIconPath = `\n  M0,9L-3.45,12.45L-7.755,8.115L-9.885,10.245L-5.55,14.55L-9,18L0,18L0,9ZM-18,\n  18L-21.45,14.55L-17.115,10.245L-19.245,8.115L-23.55,12.45L-27,9L-27,18L-18,\n  18ZM-27,0L-23.55,-3.45L-19.245,0.885L-17.115,-1.245L-21.45,-5.55L-18,-9L-27,\n  -9L-27,0ZM-9,-9L-5.55,-5.55L-9.885,-1.245L-7.755,0.885L-3.45,-3.45L0,0L0,\n  -9L-9,-9Z\n`;\n","import smooth from \"array-smooth\";\n\nexport function interpolateArray(data, fitCount) {\n  let linearInterpolate = function(before, after, atPoint) {\n    return before + (after - before) * atPoint;\n  };\n\n  let newData = [];\n  let springFactor = Number((data.length - 1) / (fitCount - 1));\n  newData[0] = data[0];\n  for (let i = 1; i < fitCount - 1; i++) {\n    let tmp = i * springFactor;\n    let before = Number(Math.floor(tmp)).toFixed();\n    let after = Number(Math.ceil(tmp)).toFixed();\n    let atPoint = tmp - before;\n    newData[i] = linearInterpolate(data[before], data[after], atPoint);\n  }\n  newData[fitCount - 1] = data[data.length - 1];\n  return newData;\n}\n\nexport function prepareXAxis(dataset, period = \"max\") {\n  try {\n    const xAxis = Object.values(dataset[\"time\"]);\n    return typeof period === \"number\" ? xAxis.slice(-period) : xAxis;\n  } catch (err) {\n    return [];\n  }\n}\n\nexport function prepareTraceData(dataset, target, period = \"max\", conf) {\n  try {\n    if (!target.length) return [];\n\n    let result = Object.values(dataset[target]);\n    if (typeof period === \"number\") result = result.slice(-period);\n\n    result = result.filter(function(el) {\n      return el != null;\n    });\n\n    if (conf.smooth_win && !conf.excluded_tags.includes(target)) {\n      result = smooth(result, conf.smooth_win);\n    }\n\n    return result;\n  } catch (err) {\n    return [];\n  }\n}\n\nexport function getLastPointIndex(dataset, period = \"all\") {\n  try {\n    if (period === \"all\") {\n      return Object.values(dataset.time).length - 1;\n    } else {\n      return Object.values(dataset.time).slice(-period).length - 1;\n    }\n  } catch (err) {\n    return -1;\n  }\n}\n\nexport function checkPlotError(data, target, threshold) {\n  try {\n    const lastValue = Object.values(data[target]).slice(-1)[0];\n    if (Object.values(data[target]).length < threshold) {\n      return [true, \"Not Enough Data\"];\n    }\n    return [!lastValue, !lastValue ? \"No Data\" : \"\"];\n  } catch (err) {\n    return [true, \"No Data\"];\n  }\n}\n","import React from \"react\";\nimport Plotly from \"plotly.js\";\nimport createPlotlyComponent from \"react-plotly.js/factory\";\n\nimport { configuration } from \"./config\";\nimport ModeBar from \"./ModeBar\";\n\nimport styles from \"./Chart.module.css\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport {\n  plotDatasetIdByIdSelector,\n  plotPeriodByIdSelector,\n  plotStreamByIdSelector,\n  plotTargetsByIdSelector,\n  plotTraceConf,\n} from \"../../../../../redux/PlotsProps/selectors\";\nimport { getLastPointIndex, prepareTraceData, prepareXAxis } from \"./utils\";\nimport ModeBarButtons from \"plotly.js/src/components/modebar/buttons\";\nimport { workspaceDatasetsPropsSelector } from \"../../../../../redux/DatasetsProps/selectors\";\nimport { workspaceTagsSelector } from \"../../../../../redux/WorkSpacesProps/selectors\";\nimport PropTypes from \"prop-types\";\n\nconst Plot = createPlotlyComponent(Plotly);\n\nconst isHovered = {};\n\n// TODO: Fix chart axis precision\n\nclass Chart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = configuration();\n    isHovered[this.props.plotId] = false;\n  }\n\n  updateTooltips() {\n    setTimeout(() => {\n      this.onUnhover();\n    }, 10);\n  }\n\n  resetPlotScale() {\n    setTimeout(() => {\n      ModeBarButtons.resetScale2d.click(\n        this.state.graphDiv,\n        {},\n        \"zoom\",\n        \"reset\"\n      );\n    }, 10);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const data = prevProps.datasets[this.props.currentDatasetId].dataset;\n\n    // For initial dataset update\n    if (!Object.keys(data || {}).length) {\n      this.updateTooltips();\n    }\n    // For targets change\n    if (\n      JSON.stringify(prevProps.currentTargets) !==\n      JSON.stringify(this.props.currentTargets)\n    ) {\n      this.updateTooltips();\n      if (JSON.stringify(this.props.currentTargets) === '[\"\",\"\",\"\",\"\"]') {\n        this.setYAxisRange([0, 100]);\n      }\n    }\n    // For period change\n    if (prevProps.currentPeriod !== this.props.currentPeriod) {\n      this.setXAxisRange();\n      this.resetPlotScale();\n      this.updateTooltips();\n    }\n    // For stream change\n    if (prevProps.currentStream !== this.props.currentStream) {\n      this.resetPlotScale();\n    }\n    // For update when activeReset === false\n    if (!this.state.activeReset && !isHovered[this.props.plotId]) {\n      this.updateTooltips();\n    }\n  }\n\n  onInitialized = (_, graphDiv) => {\n    document\n      .getElementById(`${this.props.plotId}-plot-root`)\n      .addEventListener(\"mousemove\", (ev) => {\n        const absYPos = ev.pageY;\n        const absXPos = ev.pageX;\n        const plotRoot = document.getElementById(\n          `${this.props.plotId}-plot-root`\n        );\n\n        const plotsBounds = {\n          left: {\n            left: 1125,\n            right: 2578,\n          },\n          right: {\n            left: 2893,\n            right: 4345,\n          },\n        };\n\n        const leftBound = plotsBounds[this.props.plotId].left;\n        const rightBound = plotsBounds[this.props.plotId].right;\n\n        const leftBoundCond = absXPos > leftBound;\n        const rightBoundCond = absXPos < rightBound;\n        const topBoundCond = absYPos > 2065;\n        const bottomBoundCond = absYPos < 2655;\n\n        if (\n          leftBoundCond &&\n          rightBoundCond &&\n          topBoundCond &&\n          bottomBoundCond\n        ) {\n          plotRoot.style.zIndex = \"3\";\n          isHovered[this.props.plotId] = true;\n        } else {\n          plotRoot.style.zIndex = \"1\";\n          this.onUnhover();\n          isHovered[this.props.plotId] = false;\n        }\n      });\n    this.onUnhover();\n    this.setState((state) => {\n      return {\n        ...state,\n        graphDiv: graphDiv,\n      };\n    });\n  };\n\n  setYAxisRange = (range) => {\n    this.setState((state) => {\n      return {\n        ...state,\n        layout: {\n          ...state.layout,\n          yaxis: {\n            ...state.layout.yaxis,\n            range: range,\n          },\n        },\n      };\n    });\n  };\n\n  setXAxisRange = (period = this.props.currentPeriod, ignore = true) => {\n    if (ignore) return;\n\n    const datasetLength = prepareXAxis(\n      this.props.datasets[this.props.currentDatasetId].dataset,\n      1440\n    ).length;\n    const startTick = datasetLength - period;\n    const endTick = datasetLength - 1;\n\n    try {\n      Plotly.relayout(this.state.graphDiv, \"xaxis.range\", [\n        startTick < 0 ? 0 : startTick,\n        endTick,\n      ]);\n    } catch (err) {}\n  };\n\n  setReset = (reset) => {\n    this.setState((state) => {\n      return {\n        ...state,\n        activeReset: reset,\n      };\n    });\n  };\n\n  onUnhover = () => {\n    const evt = this.props.currentTargets.map((_, index) => ({\n      curveNumber: index,\n      pointNumber: getLastPointIndex(\n        this.props.datasets[this.props.currentDatasetId].dataset,\n        this.props.currentPeriod\n      ),\n    }));\n    Plotly.Fx.hover(`${this.props.plotId}-plot`, evt);\n  };\n\n  onRelayout = (eventData) => {\n    const keys = JSON.stringify(Object.keys(eventData));\n    switch (keys) {\n      // For xy-zoom or pan\n      case '[\"xaxis.range[0]\",\"xaxis.range[1]\",\"yaxis.range[0]\",\"yaxis.range[1]\"]':\n        this.setReset(true);\n        break;\n      // For x-zoom\n      case '[\"xaxis.range[0]\",\"xaxis.range[1]\"]':\n        this.setReset(true);\n        break;\n      // For y-zoom\n      case '[\"yaxis.range[0]\",\"yaxis.range[1]\"]':\n        this.setReset(true);\n        break;\n      // For reset button\n      case '[\"xaxis.autorange\",\"xaxis.showspikes\",\"yaxis.autorange\",\"yaxis.showspikes\"]':\n        this.setReset(false);\n        this.setXAxisRange();\n        this.onUnhover();\n        break;\n      // For dbclick action\n      case '[\"xaxis.autorange\",\"yaxis.autorange\"]':\n        this.setReset(false);\n        this.setXAxisRange();\n        break;\n      default:\n        break;\n    }\n  };\n\n  render() {\n    let traces = null;\n    if (JSON.stringify(this.props.currentTargets) === '[\"\",\"\",\"\",\"\"]') {\n      traces = [\n        {\n          ...this.state.data[0],\n          x: prepareXAxis(\n            this.props.datasets[this.props.currentDatasetId].dataset,\n            this.props.currentPeriod\n          ),\n          y: Array(1440).fill(null),\n          text: \"\",\n        },\n      ];\n    } else {\n      traces =\n        this.props.currentTargets &&\n        this.props.currentTargets.map((target, index) => ({\n          ...this.state.data[index],\n          x: prepareXAxis(\n            this.props.datasets[this.props.currentDatasetId].dataset,\n            this.props.currentPeriod\n          ),\n          y: prepareTraceData(\n            this.props.datasets[this.props.currentDatasetId].dataset,\n            target,\n            this.props.currentPeriod,\n            this.props.traceConf\n          ),\n          text: this.props.targetsProps.byId[target]\n            ? this.props.targetsProps.byId[target].text\n            : \"\",\n        }));\n    }\n\n    return (\n      <>\n        <ModeBar\n          activeReset={this.state.activeReset}\n          graphDiv={this.state.graphDiv}\n        />\n        <div id={`${this.props.plotId}-plot-root`} className={styles.Root}>\n          <Plot\n            divId={`${this.props.plotId}-plot`}\n            data={traces}\n            layout={this.state.layout}\n            frames={this.state.frames}\n            config={this.state.config}\n            onInitialized={this.onInitialized}\n            onRelayout={this.onRelayout}\n          />\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentPeriod: plotPeriodByIdSelector,\n  currentTargets: plotTargetsByIdSelector,\n  currentStream: plotStreamByIdSelector,\n  currentDatasetId: plotDatasetIdByIdSelector,\n  datasets: workspaceDatasetsPropsSelector,\n  targetsProps: workspaceTagsSelector,\n  traceConf: plotTraceConf,\n});\n\nChart.propTypes = {\n  plotId: PropTypes.string.isRequired,\n  currentTargets: PropTypes.arrayOf(PropTypes.string).isRequired,\n  currentPeriod: PropTypes.number.isRequired,\n  currentStream: PropTypes.string.isRequired,\n  currentDatasetId: PropTypes.string.isRequired,\n  traceConf: PropTypes.shape({\n    smooth_win: PropTypes.oneOfType([PropTypes.number]),\n    excluded_tags: PropTypes.arrayOf(PropTypes.string).isRequired,\n  }),\n  datasets: PropTypes.objectOf(\n    PropTypes.shape({\n      dataset: PropTypes.object.isRequired,\n    })\n  ).isRequired,\n  targetsProps: PropTypes.shape({\n    byId: PropTypes.objectOf(\n      PropTypes.shape({\n        text: PropTypes.string.isRequired,\n      })\n    ).isRequired,\n  }).isRequired,\n};\n\nexport default connect(mapStateToProps)(Chart);\n","export const configuration = () => ({\n  activeReset: false,\n  hovered: false,\n  data: [\n    {\n      name: \"\",\n      type: \"scatter\",\n      mode: \"lines\",\n      text: \"Text 1st\",\n      hoverinfo: \"y+text\",\n      hoverlabel: {\n        bordercolor: \"rgba(0, 0, 0, 0)\",\n        align: \"left\",\n        font: {\n          family: \"MediumFont\",\n          size: 26,\n          color: \"rgba(0, 0, 0, 1)\",\n        },\n      },\n      line: {\n        shape: \"spline\",\n        color: \"rgb(255,83,73)\",\n        width: 3,\n      },\n    },\n    {\n      name: \"\",\n      type: \"scatter\",\n      mode: \"lines\",\n      text: \"Text 2nd\",\n      hoverinfo: \"y+text\",\n      hoverlabel: {\n        bordercolor: \"rgba(0, 0, 0, 0)\",\n        align: \"left\",\n        font: {\n          family: \"MediumFont\",\n          size: 26,\n          color: \"rgba(0, 0, 0, 1)\",\n        },\n      },\n      line: {\n        shape: \"spline\",\n        color: \"rgb(249, 132, 114)\",\n        width: 3,\n      },\n    },\n    {\n      name: \"\",\n      type: \"scatter\",\n      mode: \"lines\",\n      text: \"Text 3rd\",\n      hoverinfo: \"y+text\",\n      hoverlabel: {\n        bordercolor: \"rgba(0, 0, 0, 0)\",\n        align: \"left\",\n        font: {\n          family: \"MediumFont\",\n          size: 26,\n          color: \"rgba(0, 0, 0, 1)\",\n        },\n      },\n      line: {\n        shape: \"spline\",\n        color: \"rgb(255, 184, 164)\",\n        width: 3,\n      },\n    },\n    {\n      name: \"\",\n      type: \"scatter\",\n      mode: \"lines\",\n      text: \"Text 4th\",\n      hoverinfo: \"y+text\",\n      hoverlabel: {\n        bordercolor: \"rgba(0, 0, 0, 0)\",\n        align: \"left\",\n        font: {\n          family: \"MediumFont\",\n          size: 26,\n          color: \"rgba(0, 0, 0, 1)\",\n        },\n      },\n      line: {\n        shape: \"spline\",\n        color: \"rgb(255, 236, 179)\",\n        width: 3,\n      },\n    },\n  ],\n  layout: {\n    hovermode: \"x\",\n    dragmode: \"zoom\",\n    spikedistance: 2000,\n    hoverdistance: 100,\n    autosize: false,\n    width: 1704,\n    height: 980,\n    margin: { r: 84, l: 176, t: 275, b: 117, pad: 66 }, // Right-margin affects tooltip text anchor\n    paper_bgcolor: \"rgba(0, 0, 0, 0)\",\n    plot_bgcolor: \"rgba(0, 0, 0, 0)\",\n    showlegend: false,\n    xaxis: {\n      tickangle: 0,\n      showline: true,\n      color: \"#212121\",\n      nticks: 6,\n      showgrid: false,\n      tickfont: { family: \"RegularFont\", size: \"24\", color: \"#9f9f9f\" },\n    },\n    yaxis: {\n      nticks: 12,\n      tickformat: '.3f', // .ns\n      color: \"#212121\",\n      showgrid: false,\n      tickfont: { family: \"RegularFont\", size: \"24\", color: \"#9f9f9f\" },\n    },\n  },\n  frames: [],\n  config: { scrollZoom: false, displayModeBar: false },\n});\n","import React from 'react';\nimport PlotBar from './PlotBar';\nimport styles from './Plot.module.css';\nimport './Plot.css';\nimport Chart from './Chart/Chart';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport { appWorkspace } from '../../../../redux/AppProps/selectors';\nimport { CSSTransition, SwitchTransition } from 'react-transition-group';\nimport PropTypes from 'prop-types';\n\nexport const PlotIdContext = React.createContext('');\n\nconst Plot = ({ id, workspaceId }) => {\n  return (\n    <PlotIdContext.Provider value={id}>\n      <SwitchTransition>\n        <CSSTransition\n          key={workspaceId}\n          addEndListener={(node, done) =>\n            node.addEventListener('transitionend', done, false)\n          }\n          classNames=\"plot-fade\"\n        >\n          <div className={styles.Root}>\n            <PlotBar workspaceId={workspaceId} />\n            <Chart plotId={id} workspaceId={workspaceId} />\n          </div>\n        </CSSTransition>\n      </SwitchTransition>\n    </PlotIdContext.Provider>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  workspaceId: appWorkspace,\n});\n\nPlot.propTypes = {\n  id: PropTypes.string.isRequired,\n  workspaceId: PropTypes.string.isRequired,\n};\n\nexport default connect(mapStateToProps)(Plot);\n","import React from 'react';\n\nexport default function ShadowFilter() {\n  return (\n    <svg style={{ display: 'none' }}>\n      <defs>\n        <filter id=\"plotTooltipShadow\">\n          <feColorMatrix\n            type=\"matrix\"\n            values=\"0 0 0 0 0\n                  0 0 0 0 0\n                  0 0 0 0 0\n                  2 0 0 0 -1\"\n          />\n          <feGaussianBlur stdDeviation=\"3\" />\n          <feOffset dy=\"4\" dx=\"4\" />\n          <feMerge>\n            <feMergeNode />\n            <feMergeNode in=\"SourceGraphic\" />\n          </feMerge>\n        </filter>\n      </defs>\n    </svg>\n  );\n}\n","import React from 'react';\n\nimport styles from './Plots.module.css';\nimport Plot from './Plot';\nimport ShadowFilter from './ShadowFilter';\n\nconst Plots = () => {\n  return (\n    <div className={styles.Root}>\n      <Plot id={'left'} />\n      <Plot id={'right'} />\n      <ShadowFilter />\n    </div>\n  );\n};\n\nexport default Plots;\n","import React from 'react';\nimport Scheme from './Scheme';\nimport styles from './Workspace.module.css';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { appWorkspace } from '../../redux/AppProps/selectors';\nimport Plots from './Plots';\n\nconst Workspace = ({ workspaceId }) => {\n  return (\n    <div className={styles.Root}>\n      <Scheme workspaceId={workspaceId} />\n      <Plots />\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  workspaceId: appWorkspace,\n});\n\nexport default connect(mapStateToProps)(Workspace);\n","/**\n * Preload datasets before app show and\n * starts update intervals for all datasets.\n * @param workspaces -> arrayOf(string)\n * @param datasetsProps -> objectOf(described in App.jsx)\n * @param calculator -> func(request sender for calculating new data)\n * @param updater -> func(redux action function)\n * @returns {Promise<void>}\n */\nexport async function appDatasetsUpdater(\n  workspaces,\n  datasetsProps,\n  calculator,\n  updater\n) {\n  for (const workspaceId of workspaces) {\n    const { byId } = datasetsProps[workspaceId];\n    await updateWorkspaceDatasets(\n      workspaceId,\n      Object.keys(byId),\n      byId,\n      updater,\n      calculator\n    );\n  }\n}\n\nasync function updateWorkspaceDatasets(\n  workspaceId,\n  datasetsIds,\n  datasetsPropsById,\n  updater,\n  calculator\n) {\n  for (const datasetId of datasetsIds) {\n    const datasetProps = datasetsPropsById[datasetId];\n\n    await updateDataset(workspaceId, datasetProps, updater, calculator).then(\n      () => {\n        setInterval(\n          () => updateDataset(workspaceId, datasetProps, updater, calculator),\n          datasetProps.updateInterval\n        );\n      }\n    );\n  }\n}\n\nasync function updateDataset(workspaceId, datasetProps, updater, calculator) {\n  if (datasetProps.apiEndpoints.update)\n    await calculator(workspaceId, datasetProps.apiEndpoints.update);\n  updater(workspaceId, {\n    id: datasetProps.id,\n    endpoint: datasetProps.apiEndpoints.get,\n  });\n}\n\n/**\n * Preload recommendation before app show and\n * starts update intervals for all recs.\n * @param recProps -> arrayOf(described in App.jsx)\n * @param updater -> func(redux action)\n * @returns {Promise<void>}\n */\nexport async function appRecommendationsUpdater(recProps, updater) {\n  for (const rec of recProps) {\n    updater(rec.workspaceId, rec.apiEndpoint);\n    setInterval(() => {\n      updater(rec.workspaceId, rec.apiEndpoint);\n    }, rec.updateInterval);\n  }\n}\n","import { LOAD_DATASET } from \"../constants\";\n\nexport const loadDataset = (workspaceId, datasetProps) => async (dispatch) => {\n  dispatch({\n    type: LOAD_DATASET,\n    payload: { workspaceId: workspaceId, datasetId: datasetProps.id },\n    CallAPI: `${workspaceId}${datasetProps.endpoint}`,\n  });\n};\n","export const requestCalculation = async (id, api) => {\r\n  const route = `${id}${api}`;\r\n\r\n  await fetch('http://45.61.48.18/' + route, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: \"{}\",\r\n  }).catch((err) => {\r\n    window?.api?.log?.error(\"\\nRequest dataset calculation error!\");\r\n    window?.api?.log?.error(err.message);\r\n  });\r\n};\r\n\r\nexport const requestAppSettings = async () => {\r\n  const route = \"aio_ui/config\";\r\n  return await fetch('http://45.61.48.18/' + route)\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      window?.api?.log?.error(\"\\nRequest app settings error!\");\r\n      window?.api?.log?.error(err.message);\r\n    });\r\n};\r\n","import { createSelector } from \"reselect\";\r\n\r\nexport const arrToMap = (arr) =>\r\n  arr.reduce((acc, item) => ({ ...acc, [item.id]: item }), {});\r\n\r\nexport const getById = (selector, defaultValue) =>\r\n  createSelector(\r\n    selector,\r\n    (_, props) => props.id,\r\n    (entity, id) => entity[id] || defaultValue\r\n  );\r\n\r\nexport const objToURLParams = (obj) => {\r\n  return (\r\n    \"?\" +\r\n    Object.entries(obj)\r\n      .map(\r\n        ([key, val]) => `${encodeURIComponent(key)}=${encodeURIComponent(val)}`\r\n      )\r\n      .join(\"&\")\r\n  );\r\n};\r\n\r\n// specification: specProps['regime'] || 'undefined',\r\n//   s_ap_setpoint: specProps['consts']['S_AP'],\r\n//   s_bp_setpoint: specProps['consts']['S_BP'],\r\n//   b_apc_setpoint: specProps['consts']['B_APC'],\r\n","import {\r\n  CLOSE_SPEC_DIALOG,\r\n  LOAD_DATASET,\r\n  OPEN_SPEC_DIALOG,\r\n  SAVE_SPECS_AND_CONSTS,\r\n  SET_CONSTANTS,\r\n  SET_SPECIFICATION,\r\n  UPDATE_CONSTANTS,\r\n} from \"../constants\";\r\nimport { objToURLParams } from \"../utils\";\r\nimport { workspaceSpecDefaultsSelector } from \"../WorkSpacesProps/selectors\";\r\n\r\nexport const openSpecDialog = (workspaceId) => async (dispatch, getState) => {\r\n  const state = getState();\r\n  const apiEndpoints = state.SpecDialog.apiEndpoints;\r\n  const defaults = workspaceSpecDefaultsSelector(state, { workspaceId });\r\n\r\n  dispatch({\r\n    type: OPEN_SPEC_DIALOG,\r\n    payload: { workspaceId, default: { ...defaults } },\r\n    CallAPI: `${workspaceId}${apiEndpoints.get}`,\r\n  });\r\n};\r\n\r\nexport const updateSpecInputs =\r\n  (workspaceId, specification) => async (dispatch, getState) => {\r\n    const state = getState();\r\n    const apiEndpoints = state.SpecDialog.apiEndpoints;\r\n    const params = objToURLParams({ specification });\r\n    const defaults = workspaceSpecDefaultsSelector(state, { workspaceId });\r\n\r\n    dispatch({\r\n      type: UPDATE_CONSTANTS,\r\n      payload: { workspaceId, default: { ...defaults } },\r\n      CallAPI: `${workspaceId}${apiEndpoints.update}${params}`,\r\n    });\r\n  };\r\n\r\nexport const closeSpecDialog = () => ({\r\n  type: CLOSE_SPEC_DIALOG,\r\n  payload: {},\r\n});\r\n\r\nexport const setSpecification = (specification) => ({\r\n  type: SET_SPECIFICATION,\r\n  payload: { specification },\r\n});\r\n\r\nexport const setConstants = (constants) => ({\r\n  type: SET_CONSTANTS,\r\n  payload: { constants },\r\n});\r\n\r\nexport const saveSpecifications = () => async (dispatch, getState) => {\r\n  const state = getState();\r\n  const { specification, constants, workspaceId, apiEndpoints, datasetId } =\r\n    state.SpecDialog;\r\n  const params = objToURLParams({\r\n    specification,\r\n    ...constants,\r\n  });\r\n\r\n  dispatch({\r\n    type: SAVE_SPECS_AND_CONSTS,\r\n    payload: {},\r\n    CallAPI: `${workspaceId}${apiEndpoints.set}${params}`,\r\n  });\r\n  dispatch({\r\n    type: LOAD_DATASET,\r\n    payload: { workspaceId, datasetId },\r\n    CallAPI: `${workspaceId}${apiEndpoints.datasetUpdate}`,\r\n  });\r\n};\r\n","import React from 'react';\r\nimport cn from 'classnames';\r\n\r\nimport DownloadIcon from '../../../../../assets/images/WidgetSettings_Download.png';\r\nimport SpecificationIcon from '../../../../../assets/images/WidgetSettings_Specification.png';\r\n\r\nimport styles from './SettingsBar.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { appWorkspace } from '../../../../../redux/AppProps/selectors';\r\nimport { setAppWorkspace } from '../../../../../redux/AppProps/actions';\r\nimport { openDownloadDialog } from '../../../../../redux/DownloadProps/actions';\r\nimport { openSpecDialog } from '../../../../../redux/SpecDialog/actions';\r\nimport {\r\n  workspaceDialogPropsSelector,\r\n  workSpaceLabelSelector, workspacesIdsSelector\r\n} from \"../../../../../redux/WorkSpacesProps/selectors\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ src, handler }) => {\r\n  return (\r\n    <button className={styles.IconButton} onClick={handler}>\r\n      <img src={src} alt={''} />\r\n    </button>\r\n  );\r\n};\r\n\r\nconst SettingsBar = ({\r\n  workspaceId,\r\n  selectedWorkspace,\r\n  allWorkspaces,\r\n  workSpaceLabel,\r\n  dialogsProps,\r\n  setWorkspace,\r\n  openDownload,\r\n  openSpecs,\r\n}) => {\r\n  return (\r\n    <div className={styles.Root}>\r\n      <button\r\n        onClick={setWorkspace}\r\n        className={cn(styles.Name, {\r\n          [styles.Checked]: workspaceId === selectedWorkspace,\r\n          [styles.Single]: allWorkspaces.length <= 1,\r\n        })}\r\n      >\r\n        {workSpaceLabel}\r\n      </button>\r\n      {dialogsProps.dialogs.map((dialogId) => {\r\n        switch (dialogId) {\r\n          case 'specDialog':\r\n            return (\r\n              <Button\r\n                key={dialogId}\r\n                src={SpecificationIcon}\r\n                handler={openSpecs}\r\n              />\r\n            );\r\n          case 'downloadDialog':\r\n            return (\r\n              <Button\r\n                key={dialogId}\r\n                src={DownloadIcon}\r\n                handler={openDownload}\r\n              />\r\n            );\r\n          default:\r\n            return null;\r\n        }\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  selectedWorkspace: appWorkspace,\r\n  allWorkspaces: workspacesIdsSelector,\r\n  workSpaceLabel: workSpaceLabelSelector,\r\n  dialogsProps: workspaceDialogPropsSelector,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => ({\r\n  setWorkspace: () => dispatch(setAppWorkspace(ownProps.workspaceId)),\r\n  openDownload: () => dispatch(openDownloadDialog(ownProps.workspaceId)),\r\n  openSpecs: () => dispatch(openSpecDialog(ownProps.workspaceId)),\r\n});\r\n\r\nSettingsBar.propTypes = {\r\n  workspaceId: PropTypes.string.isRequired,\r\n  selectedWorkspace: PropTypes.string.isRequired,\r\n  workSpaceLabel: PropTypes.string.isRequired,\r\n  dialogsProps: PropTypes.shape({\r\n    dialogs: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  }),\r\n  setWorkspace: PropTypes.func.isRequired,\r\n  openDownload: PropTypes.func.isRequired,\r\n  openSpecs: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsBar);\r\n","import { SET_APP_WORKSPACE } from '../constants';\n\nexport const setAppWorkspace = (workspaceId) => ({\n  type: SET_APP_WORKSPACE,\n  payload: { workspaceId },\n});\n","import {\n  CLOSE_DOWNLOAD_DIALOG,\n  DOWNLOAD_DATA,\n  OPEN_DOWNLOAD_DIALOG,\n  SET_DOWNLOAD_VALUE,\n} from \"../constants\";\nimport { objToURLParams } from \"../utils\";\n\nexport const openDownloadDialog = (workspaceId) => ({\n  type: OPEN_DOWNLOAD_DIALOG,\n  payload: { workspaceId },\n});\n\nexport const closeDownloadDialog = () => ({\n  type: CLOSE_DOWNLOAD_DIALOG,\n});\n\nexport const setDownloadValueByType = (value, type) => ({\n  type: SET_DOWNLOAD_VALUE,\n  payload: { value, type },\n});\n\nexport const downloadData = () => async (dispatch, getState) => {\n  const state = getState();\n  const { values, workspaceId, apiEndpoint } = state.DownloadProps;\n  const params = objToURLParams(values);\n\n  dispatch({\n    type: DOWNLOAD_DATA,\n    payload: {},\n    CallAPI: `${workspaceId}${apiEndpoint}${params}`,\n  });\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAAAu0lEQVRIie2UgQmDMBBFv8U9dAQ3aEdyBEfoSOkGGUFH6AQnishhe9eYE1MwDwKJmn/4j/sgoqMXp5O0b0hEssIFETmjhgfQsjOx/QCg/3apBHA3FtaolvVBMqunP34ZNbzyTrQ6j9N5KJZ1G9sObcn1rJ7GSUquWrn3BNBYChdz8wK/ZXtnTby/TK5aytkfaRVGHqfTiLTKsRa4bHUIWnJteQjPmx0aKzm5YnjHJFmp9C4UH6NxsXECMAJnb/CzQ+Q2XQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAhCAYAAAC4JqlRAAAACXBIWXMAAAsSAAALEgHS3X78AAABK0lEQVRYhe2WwW3DMAxFv4vynG7QFbpBvUk8QjZIRsgIzibpJhkhZ/2DCzaKqgKxQiqFc9EHBMmGyf9k2RK7aZpQI5I9gD6GHkXkWJPntcr9IjXfZtdVAC8PAPyLGkADaAANoAEUAUh+kDxp701sjZ0FiIF6wLxr74HwxJbewABgFccrK0RmnscObgAR2QA4ZLfuQtwwVx1iLh9AhBisEAXz2dnfBShBAMghqsxV5pKM5AhgbXrYaK4y7wM33sTD5i4AI4TLXNWFEFIxKSJ9+fGLZpbDbE7yt4ANIUzXpt+DtYUQxix2dMYmz+qyXGdLMo1r8+gSpN9ARLraRB6RTJ7tOH46wJ+PkORuaYDrPvC5tHHUly7B/knmqv3PYUTyLRYN2i+hM4BRRM7fngHtxm+HqJcAAAAASUVORK5CYII=\"","import React from \"react\";\nimport SettingsBar from \"./SettingsBar\";\nimport styles from \"./InfoWidget.module.css\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { workspaceWidgetsSelector } from \"../../../../redux/WorkSpacesProps/selectors\";\n\nconst InfoWidget = ({ workspaceId, widgets }) => {\n  return (\n    <div className={styles.Root}>\n      <SettingsBar workspaceId={workspaceId} />\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  widgets: workspaceWidgetsSelector,\n});\n\nInfoWidget.propTypes = {\n  workspaceId: PropTypes.string.isRequired,\n  widgets: PropTypes.arrayOf(\n    PropTypes.shape({\n      style: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      content: PropTypes.arrayOf(PropTypes.object).isRequired,\n    })\n  ).isRequired,\n};\n\nexport default connect(mapStateToProps)(InfoWidget);\n","import React from 'react';\n\nimport InfoWidget from './InfoWidget';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { workspacesIdsSelector } from '../../../redux/WorkSpacesProps/selectors';\nimport PropTypes from 'prop-types';\n\nconst InfoWidgets = ({ workspaces }) => {\n  return (\n    <>\n      {workspaces.map((item) => (\n        <InfoWidget key={item} workspaceId={item} />\n      ))}\n    </>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  workspaces: workspacesIdsSelector,\n});\n\nInfoWidgets.prpTypes = {\n  workspaces: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default connect(mapStateToProps)(InfoWidgets);\n","export function countToTime(count) {\n  if (count === 0) return \"сейчас\";\n\n  const days = Math.floor(count / 1440);\n  const hours = Math.floor(count / 60);\n  const minutes = count;\n  let result = \"\";\n\n  const checkPostfix = (count) => {\n    return count > 1 ? \"s \" : \" \";\n  };\n\n  if (days) {\n    result += `${days} день`;\n    result += checkPostfix(days);\n  }\n  if (hours) {\n    result += `${hours} ч.`;\n    result += checkPostfix(hours);\n  }\n\n  result += `${minutes - hours * 60} мин. назад`;\n\n  return result;\n}\n\nexport function prepareValue(df, tagId, precision) {\n  try {\n    const rawValue = Object.values(df[tagId]).slice(-1)[0];\n    return Number(rawValue).toFixed(precision);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport const datasetGetter = (datasets, observeProps, workspaceId) => {\n  if (observeProps == null) return null;\n\n  try {\n    const { datasetId } = observeProps;\n    return datasets[workspaceId]?.byId[datasetId]?.dataset;\n  } catch (err) {\n    return null;\n  }\n};\n\nexport const valueGetter = (dataset, valueProps, precision) => {\n  if (valueProps == null) return null;\n\n  try {\n    const { tagId } = valueProps;\n    return prepareValue(dataset, tagId, precision);\n  } catch (err) {\n    return null;\n  }\n};\n\nexport const getDatasets = (datasets, recProps) => {\n  return {\n    optDataset: datasetGetter(datasets, recProps.observe, recProps.workspaceId),\n    realDataset: datasetGetter(datasets, recProps.observe?.diff, recProps.workspaceId),\n  };\n};\n\nexport const getValues = (data, recProps) => {\n  const precision = recProps.observe?.precision;\n  return {\n    optValue: valueGetter(data.optDataset, recProps.observe, precision),\n    realValue: valueGetter(data.realDataset, recProps.observe?.diff, precision),\n  };\n};\n\nexport const diffCheck = (values, diffProps) => {\n  if (diffProps == null) return false;\n\n  try {\n    const { condition } = diffProps;\n    const { optValue, realValue } = values;\n    return Math.abs(Number(optValue) - Number(realValue)) < condition;\n  } catch (err) {\n    return false;\n  }\n};\n\nexport const combineText = (text, value, observeProps) => {\n  if (observeProps == null) {\n    return text;\n  } else {\n    return value ? `${text}${value} ${observeProps.units}` : text;\n  }\n};\n\nexport function getStatus(dataset, targetId) {\n  try {\n    return Number(Object.values(dataset[targetId]).slice(-1)[0]);\n  } catch (err) {\n    return false;\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./Recommendation.module.css\";\nimport CrossImg from \"../../../../assets/images/Rec_Cross.png\";\nimport { combineText, countToTime, diffCheck, getDatasets, getStatus, getValues } from \"./utils\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { recsTimerIntervalSelector } from \"../../../../redux/RecProps/selectors\";\nimport { datasetsPropsSelector } from \"../../../../redux/DatasetsProps/selectors\";\n\nconst Recommendation = ({ props, actionHandler, interval, datasets }) => {\n  const [count, setCount] = useState(0);\n  const data = getDatasets(datasets, props);\n  const values = getValues(data, props);\n  const diffCond = diffCheck(values, props.observe?.diff);\n  const isStable = getStatus(data.optDataset, props.statusTag);\n  let text = combineText(props.text, values.optValue, props.observe);\n\n  useEffect(() => {\n    const timerUpdater = setTimeout(() => setCount(count + 1), interval);\n    return () => clearTimeout(timerUpdater);\n  }, [count, setCount, interval]);\n\n  useEffect(() => {\n    setCount(0);\n  }, [props.text]);\n\n  if (text == null || diffCond) {\n    actionHandler(\"DECLINED\", props.id);\n    return null;\n  }\n\n  if (props.statusTag && !isStable) {\n    actionHandler(\"DECLINED\", props.id);\n    return null;\n  }\n\n  return (\n    <div className={styles.Root}>\n      <span className={styles.Timer}>{countToTime(count)}</span>\n      <button className={styles.CloseButton} onClick={() => actionHandler(\"DECLINED\", props.id)}>\n        <img src={CrossImg} alt=\"Cross\" />\n      </button>\n      <h1 className={styles.Text}>{text}</h1>\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  interval: recsTimerIntervalSelector,\n  datasets: datasetsPropsSelector,\n});\n\nRecommendation.propTypes = {\n  actionHandler: PropTypes.func.isRequired,\n  interval: PropTypes.number.isRequired,\n  props: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    text: PropTypes.string,\n  }).isRequired,\n};\n\nexport default connect(mapStateToProps)(Recommendation);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwklEQVQ4jZ3U4RGDIAwF4CddoCPQCcoIbCKbgRs4giPgRPTSgzs8CUn7fgnKR6KcS4zxCeAAkEMIAT8kpZQAOADeVOQNYK03VKnPrnXtQVDuFqqwDmnJprazabEBspFBFUGLcQhdmDYjYTOEspRSxF0bzCFDiMH63JBLa30GbbKVTKF/MoQmrbFH4wYxL1s8GheI+8Sac2YkpA0kzGgQDfaw1qqQFufcnnN+1d/Hd4rGVFGbEJFJZY4gD+DUIgPsBOA/TbiKTHk57nMAAAAASUVORK5CYII=\"","import React from \"react\";\nimport Recommendation from \"./Recommendation\";\nimport styles from \"./Recommendations.module.css\";\nimport \"./Recommendations.css\";\nimport { createStructuredSelector } from \"reselect\";\nimport { connect, useSelector } from \"react-redux\";\nimport { recsQueueSelector, recUnstableTextSelector } from \"../../../redux/RecProps/selectors\";\nimport { recActionSubmit } from \"../../../redux/RecProps/actions\";\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport PropTypes from \"prop-types\";\nimport { appWorkspace } from \"../../../redux/AppProps/selectors\";\nimport { getWorkspaceStatus } from \"./utils\";\nimport { workSpaceStatusTagSelector } from \"../../../redux/WorkSpacesProps/selectors\";\nimport { workspaceDatasetsPropsSelector } from \"../../../redux/DatasetsProps/selectors\";\n\nconst Recommendations = ({ recQueue, submitRecAction, currWorkspace, unstableText }) => {\n  const unstableBannerProps = {\n    id: \"unstable\",\n    priority: 1,\n    datetime: \"00:00:00\",\n    text: unstableText,\n  };\n\n  const statusTag = useSelector((state) => workSpaceStatusTagSelector(state, { workspaceId: currWorkspace }));\n  const data = useSelector((state) => workspaceDatasetsPropsSelector(state, { workspaceId: currWorkspace }));\n  const workspaceStatus = getWorkspaceStatus(data?.minutesDataset.dataset, statusTag);\n  const slots = !workspaceStatus ? [unstableBannerProps] : recQueue.slice(0, 3);\n\n  return (\n    <div className={styles.Root}>\n      <h1 className={styles.Title}>Рекомендации</h1>\n      <TransitionGroup>\n        {slots.map((recProps) => (\n          <CSSTransition key={recProps.id} timeout={400} classNames=\"rec-animation\">\n            <Recommendation key={recProps.id} props={{ ...recProps }} actionHandler={submitRecAction} />\n          </CSSTransition>\n        ))}\n      </TransitionGroup>\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  recQueue: recsQueueSelector,\n  currWorkspace: appWorkspace,\n  unstableText: recUnstableTextSelector,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  submitRecAction: (action, recId) => dispatch(recActionSubmit(action, recId)),\n});\n\nRecommendations.propTypes = {\n  recQueue: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }).isRequired\n  ),\n  submitRecAction: PropTypes.func.isRequired,\n  currWorkspace: PropTypes.string.isRequired,\n  unstableText: PropTypes.string.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Recommendations);\n","import { CLOSE_REC, REC_ACTION_SUBMIT, REQUEST_NEW_RECS } from \"../constants\";\n// import { objToURLParams } from \"../utils\";\n\nexport const requestNewRecs = (workspaceId, apiEndpoint) => async (dispatch) => {\n  dispatch({\n    type: REQUEST_NEW_RECS,\n    payload: {},\n    CallAPI: `${workspaceId}${apiEndpoint}`,\n  });\n};\n\nexport const hideRec = (recId) => ({\n  type: CLOSE_REC,\n  payload: { recId },\n});\n\nexport const recActionSubmit = (action, recId) => async (dispatch, getState) => {\n  // const store = getState();\n  // const recProps = store.RecProps.queue.filter((rec) => rec.id === recId);\n  // const params = objToURLParams({\n  //   rec_name: recId,\n  //   state: action,\n  //   created_dt: recProps.created_dt,\n  //   show_dt: recProps.show_dt,\n  //   click_dt: recProps.click_dt,\n  // });\n\n  dispatch({\n    type: REC_ACTION_SUBMIT,\n    payload: { recId },\n    // CallAPI: `/`,\n  });\n};\n","export function getWorkspaceStatus(dataset, targetId) {\n\ttry {\n\t\treturn Number(Object.values(dataset[targetId]).slice(-1)[0]);\n\t} catch (err) {\n\t\treturn true;\n\t}\n}","import { createSelector } from 'reselect';\n\nexport const downloadPropsSelector = createSelector(\n  (state) => state.DownloadProps,\n  (props) => props\n);\n\nexport const downloadContextRenderPropsSelector = createSelector(\n  downloadPropsSelector,\n  (state) => state.WorkSpacesProps,\n  (downloadProps, workspacesProps) => {\n    const contextRenderProps =\n      workspacesProps?.byId[downloadProps.workspaceId]?.dialogProps?.download;\n\n    if (contextRenderProps) {\n      return {\n        renderOrder: contextRenderProps.renderOrder,\n        buttonGroups: contextRenderProps.buttonGroups,\n      };\n    } else {\n      return null;\n    }\n  }\n);\n\nexport const downloadContextRenderOrderSelector = createSelector(\n  downloadContextRenderPropsSelector,\n  (renderProps) => renderProps?.renderOrder\n);\n\nexport const downloadContextBtnGroupsSelector = createSelector(\n  downloadContextRenderPropsSelector,\n  (renderProps) => renderProps?.buttonGroups\n);\n","import { Radio, withStyles } from '@material-ui/core';\n\nconst WhiteRadio = withStyles({\n  root: {\n    color: 'gray',\n    '& svg': {\n      fontSize: '48px',\n    },\n  },\n  checked: {\n    color: 'white',\n  },\n})((props) => <Radio color=\"default\" {...props} />);\n\nexport default WhiteRadio;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport WhiteRadio from './RadioButtons';\nimport { FormControl, FormControlLabel, RadioGroup } from '@material-ui/core';\nimport styles from './RadioBtnsGroup.module.css';\n\nfunction RadioBtnsGroup({ storeValues, props, handler }) {\n  const handleChange = (ev) => {\n    const value = ev.target.value;\n    handler(value, props.storeProp);\n  };\n\n  const storeValue = storeValues[props.storeProp];\n\n  return (\n    <div className={styles.Root}>\n      <FormControl component=\"fieldset\">\n        <h1 className={styles.FormLabel}>{props.title}</h1>\n        <RadioGroup\n          aria-label=\"props.title\"\n          name=\"props.title\"\n          value={storeValue}\n          onChange={handleChange}\n        >\n          {props.buttons.map((btnProp, index) => (\n            <FormControlLabel\n              key={`${btnProp.label}${index}`}\n              classes={{ label: styles.RadioLabel }}\n              style={{\n                color: storeValue === btnProp.value ? 'white' : 'gray',\n              }}\n              value={btnProp.value}\n              control={<WhiteRadio />}\n              label={btnProp.label}\n            />\n          ))}\n        </RadioGroup>\n      </FormControl>\n    </div>\n  );\n}\n\nRadioBtnsGroup.propTypes = {\n  storeValues: PropTypes.object.isRequired,\n  handler: PropTypes.func.isRequired,\n  props: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    storeProp: PropTypes.string.isRequired,\n    buttons: PropTypes.arrayOf(\n      PropTypes.shape({\n        style: PropTypes.string.isRequired,\n        value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        label: PropTypes.string.isRequired,\n      })\n    ).isRequired,\n  }).isRequired,\n};\n\nexport default RadioBtnsGroup;\n","import React from 'react';\nimport cn from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport styles from './DownloadDialog.module.css';\nimport { Divider } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  downloadContextBtnGroupsSelector,\n  downloadContextRenderOrderSelector,\n  downloadPropsSelector,\n} from '../../../../redux/DownloadProps/selectors';\nimport {\n  closeDownloadDialog,\n  downloadData,\n  setDownloadValueByType,\n} from '../../../../redux/DownloadProps/actions';\nimport RadioBtnsGroup from '../RadioBtnsGroup';\nimport PropTypes from 'prop-types';\n\nconst Dvider = () => {\n  return (\n    <div className={styles.Divider}>\n      <Divider />\n    </div>\n  );\n};\n\nconst DownloadBtn = ({ downloadHandler, closeHandler }) => {\n  return (\n    <div className={styles.Buttons}>\n      <button onClick={downloadHandler} className={styles.WhiteButton}>\n        СКАЧАТЬ\n      </button>\n      <button onClick={closeHandler} className={styles.WhiteButton}>\n        ОТМЕНА\n      </button>\n    </div>\n  );\n};\n\nconst DownloadDialog = ({\n  dialogProps,\n  renderOrder,\n  buttonGroups,\n  setValue,\n  closeDialog,\n  download,\n}) => {\n  const { t } = useTranslation();\n  const handleDownload = () => {\n    download();\n    closeDialog();\n  };\n\n  if (dialogProps.workspaceId == null) {\n    return (\n      <div\n        className={cn(styles.Root, { [styles.Opened]: dialogProps.isOpened })}\n      >\n        <div className={styles.Blocker} onClick={closeDialog} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn(styles.Root, { [styles.Opened]: dialogProps.isOpened })}>\n      <div className={styles.Blocker} onClick={closeDialog} />\n      <div className={styles.Content}>\n        <h1 className={styles.Title}>{t(`Dialogs.DownloadDialog.title`)}</h1>\n        <div className={styles.GroupsContainer}>\n          {renderOrder.map((groupType, index) => {\n            return (\n              <div key={groupType}>\n                <RadioBtnsGroup\n                  key={groupType}\n                  handler={setValue}\n                  storeValues={dialogProps.values}\n                  props={buttonGroups[groupType]}\n                />\n                {index !== renderOrder.length - 1 && <Dvider />}\n              </div>\n            );\n          })}\n        </div>\n        <DownloadBtn\n          downloadHandler={handleDownload}\n          closeHandler={closeDialog}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  dialogProps: downloadPropsSelector,\n  renderOrder: downloadContextRenderOrderSelector,\n  buttonGroups: downloadContextBtnGroupsSelector,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setValue: (value, type) => dispatch(setDownloadValueByType(value, type)),\n  closeDialog: () => dispatch(closeDownloadDialog()),\n  download: () => dispatch(downloadData()),\n});\n\nDownloadDialog.propTypes = {\n  dialogProps: PropTypes.shape({\n    workspaceId: PropTypes.string,\n    isOpened: PropTypes.bool.isRequired,\n    values: PropTypes.object.isRequired,\n  }).isRequired,\n  renderOrder: PropTypes.arrayOf(PropTypes.string),\n  buttonGroups: PropTypes.object,\n  setValue: PropTypes.func.isRequired,\n  closeDialog: PropTypes.func.isRequired,\n  download: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DownloadDialog);\n","import { createSelector } from 'reselect';\n\nexport const specDialogProps = createSelector(\n  (state) => state,\n  (state) => state.SpecDialog\n);\n\nexport const specDialogContentSelector = createSelector(\n  specDialogProps,\n  (state) => state.WorkSpacesProps,\n  (dialogProps, workspacesProps) => {\n    const contextRenderProps =\n      workspacesProps?.byId[dialogProps.workspaceId]?.dialogProps\n        ?.specifications;\n\n    if (contextRenderProps) {\n      return {\n        contentStyle: contextRenderProps.style,\n        buttonGroups: contextRenderProps.buttonGroups,\n        defaults: contextRenderProps.default,\n      };\n    } else {\n      return null;\n    }\n  }\n);\n\nexport const specDialogContentStyleSelector = createSelector(\n  specDialogContentSelector,\n  (renderProps) => renderProps?.contentStyle || 'default'\n);\n\nexport const specDialogBtnGroupsSelector = createSelector(\n  specDialogContentSelector,\n  (renderProps) => renderProps?.buttonGroups\n);\n\nexport const specDialogDefaultsSelector = createSelector(\n  specDialogContentSelector,\n  (renderProps) => renderProps?.default\n);\n","import React from 'react';\nimport cn from 'classnames';\nimport styles from './RegimeButton.module.css';\nimport {\n  setSpecification,\n  updateSpecInputs,\n} from '../../../../../redux/SpecDialog/actions';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nconst RegimeButton = ({\n  text,\n  specificationId,\n  isChecked,\n  setNewRegime,\n  updateSpecs,\n  workspaceId,\n}) => {\n  return (\n    <>\n      <button\n        className={cn(styles.Root, {\n          [styles.Disabled]: false,\n        })}\n        onClick={() => {\n          setNewRegime();\n          updateSpecs(workspaceId, specificationId);\n        }}\n      >\n        <svg\n          className={cn(styles.Marker, {\n            [styles.checkedMarker]: isChecked,\n          })}\n          width=\"51px\"\n          height=\"45px\"\n          viewBox=\"0 0 51 45\"\n        >\n          <g transform=\"matrix(1,0,0,1,-2785.93,-2818.93)\">\n            <g transform=\"matrix(1,0,0,1,2801,2841.18)\">\n              <path\n                d=\"M0,-0.35L6.796,6.825L20,-7.175\"\n                style={{\n                  fill: 'none',\n                  fillRule: 'nonzero',\n                  stroke: 'rgb(255,83,73)',\n                  strokeWidth: '3px',\n                }}\n              />\n            </g>\n          </g>\n        </svg>\n        <p className={styles.Text}>{text}</p>\n      </button>\n    </>\n  );\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  setNewRegime: () => dispatch(setSpecification(ownProps.specificationId)),\n  updateSpecs: (id, regime) => dispatch(updateSpecInputs(id, regime)),\n});\n\nRegimeButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  specificationId: PropTypes.string.isRequired,\n  isChecked: PropTypes.bool.isRequired,\n  setNewRegime: PropTypes.func.isRequired,\n  updateSpecs: PropTypes.func.isRequired,\n  workspaceId: PropTypes.string.isRequired,\n};\n\nexport default connect(null, mapDispatchToProps)(RegimeButton);\n","import React from \"react\";\r\nimport styles from \"./SpecInput.module.css\";\r\nimport cn from \"classnames\";\r\nimport \"./SpecInput.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { setConstants } from \"../../../../../redux/SpecDialog/actions\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst validateInput = (input, validationProps) => {\r\n  try {\r\n    const { inputType, restrictions } = validationProps;\r\n    if (String(input).length > restrictions.len) return false;\r\n    if (inputType === \"number\") {\r\n      const inputNumber = Number(input);\r\n      return !(\r\n        inputNumber < restrictions.min || inputNumber > restrictions.max\r\n      );\r\n    }\r\n\r\n    return true;\r\n  } catch (err) {\r\n    window?.api?.log?.error(\"\\nValidate input error!\");\r\n    window?.api?.log?.error(err);\r\n    return false;\r\n  }\r\n};\r\n\r\nconst SpecInput = ({\r\n  spec,\r\n  text,\r\n  postfix,\r\n  currSpecs,\r\n  setSpecs,\r\n  tagId,\r\n  validation,\r\n  step,\r\n}) => {\r\n  const updateSpec = (ev) => {\r\n    const value = ev.target.value;\r\n    if (!validateInput(value, validation)) return;\r\n\r\n    setSpecs({\r\n      ...currSpecs,\r\n      [tagId]: value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Root}>\r\n      <label className={styles.Text}>{text}</label>\r\n      <input\r\n        className={cn({\r\n          [styles.Invalid]: !spec || !validateInput(spec, validation),\r\n        })}\r\n        id={`${spec}-spec-input`}\r\n        type={validation.inputType}\r\n        step={step}\r\n        value={spec}\r\n        onChange={updateSpec}\r\n      />\r\n      <label\r\n        className={cn({\r\n          [styles.InvalidLabel]: !spec || !validateInput(spec, validation),\r\n        })}\r\n        htmlFor={`${spec}-spec-input`}\r\n      >\r\n        {postfix}\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setSpecs: (specs) => dispatch(setConstants(specs)),\r\n});\r\n\r\nSpecInput.propTypes = {\r\n  spec: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n  text: PropTypes.string.isRequired,\r\n  currSpecs: PropTypes.objectOf(\r\n    PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n  ).isRequired,\r\n  setSpecs: PropTypes.func.isRequired,\r\n  tagId: PropTypes.string.isRequired,\r\n  validation: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(SpecInput);\r\n","import React from \"react\";\r\nimport styles from \"./SpecDialog.module.css\";\r\nimport cn from \"classnames\";\r\nimport RegimeButton from \"./RegimeButton\";\r\nimport SpecInput from \"./SpecInput\";\r\nimport { FormControl, FormControlLabel, RadioGroup } from \"@material-ui/core\";\r\nimport WhiteRadio from \"../RadioBtnsGroup/RadioButtons\";\r\nimport PropTypes from \"prop-types\";\r\nimport {useTranslation} from \"react-i18next\";\r\n\r\nconst safeChecker = (values) => {\r\n  const type = typeof values;\r\n  if (values == null || type !== \"object\") return false;\r\n\r\n  for (const key of Object.keys(values)) {\r\n    if (!values[key]) return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nexport function SaveBtn({ saveHandler, closeHandler, currConsts }) {\r\n  const isSafe = safeChecker(currConsts);\r\n  const { t } = useTranslation();\r\n  return (\r\n    <div className={styles.Buttons}>\r\n      <button\r\n        onClick={isSafe ? saveHandler : () => {}}\r\n        className={cn(styles.WhiteButton, { [styles.DisabledBtn]: !isSafe })}\r\n      >\r\n        {t(`Dialogs.SetSpecDialog.acceptBtn`)}\r\n      </button>\r\n      <button onClick={closeHandler} className={styles.WhiteButton}>\r\n        {t(`Dialogs.SetSpecDialog.cancelBtn`)}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nSaveBtn.propTypes = {\r\n  saveHandler: PropTypes.func.isRequired,\r\n  closeHandler: PropTypes.func.isRequired,\r\n  currConsts: PropTypes.objectOf(\r\n    PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n  ),\r\n};\r\n\r\nexport function DefaultContent({\r\n  workspaceId,\r\n  currSpec,\r\n  currConsts,\r\n  specButtons,\r\n  constButtons,\r\n  saveHandler,\r\n  closeHandler,\r\n}) {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <div\r\n      className={cn(styles.Content, {\r\n        [styles.Default]: true,\r\n      })}\r\n    >\r\n      <h1 className={styles.Title}>{t(`Dialogs.SetSpecDialog.title`)}</h1>\r\n      <div className={styles.DefaultSpecsContainer}>\r\n        {constButtons.map((btnProps) => (\r\n          <SpecInput\r\n            key={btnProps.label}\r\n            spec={currConsts[btnProps.value]}\r\n            text={btnProps.label}\r\n            postfix={btnProps.postfix}\r\n            workspaceId={workspaceId}\r\n            currSpecs={currConsts}\r\n            tagId={btnProps.value}\r\n            validation={btnProps.validation}\r\n            step={btnProps.step}\r\n          />\r\n        ))}\r\n      </div>\r\n      <SaveBtn\r\n        saveHandler={saveHandler}\r\n        closeHandler={closeHandler}\r\n        currConsts={currConsts}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nDefaultContent.propTypes = {\r\n  workspaceId: PropTypes.string.isRequired,\r\n  currSpec: PropTypes.string.isRequired,\r\n  currConsts: PropTypes.object.isRequired,\r\n  specButtons: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      label: PropTypes.string.isRequired,\r\n      value: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  constButtons: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      label: PropTypes.string.isRequired,\r\n      value: PropTypes.string.isRequired,\r\n      validation: PropTypes.shape({\r\n        inputType: PropTypes.oneOf([\"number\", \"text\"]),\r\n      }).isRequired,\r\n    })\r\n  ).isRequired,\r\n  saveHandler: PropTypes.func.isRequired,\r\n  closeHandler: PropTypes.func.isRequired,\r\n};\r\n\r\nexport function CompactContent({\r\n  workspaceId,\r\n  currSpec,\r\n  currConsts,\r\n  specButtons,\r\n  constButtons,\r\n  setNewSpec,\r\n  updateConsts,\r\n  saveHandler,\r\n  closeHandler,\r\n}) {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <div\r\n      className={cn(styles.Content, {\r\n        [styles.Compact]: true,\r\n      })}\r\n    >\r\n      <h1 className={styles.Title}>{t(`Dialogs.SetSpecDialog.title`)}</h1>\r\n      <div className={styles.CompactSpecsContainer}>\r\n        {constButtons.map((btnProps) => (\r\n          <SpecInput\r\n            key={btnProps.value}\r\n            spec={currConsts[btnProps.value]}\r\n            text={btnProps.label}\r\n            postfix={btnProps.postfix}\r\n            workspaceId={workspaceId}\r\n            currSpecs={currConsts}\r\n            tagId={btnProps.value}\r\n            validation={btnProps.validation}\r\n            step={btnProps.step}\r\n          />\r\n        ))}\r\n      </div>\r\n      <SaveBtn\r\n        saveHandler={saveHandler}\r\n        closeHandler={closeHandler}\r\n        currConsts={currConsts}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nCompactContent.propTypes = {\r\n  workspaceId: PropTypes.string.isRequired,\r\n  currSpec: PropTypes.string.isRequired,\r\n  currConsts: PropTypes.objectOf(\r\n    PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n  ).isRequired,\r\n  specButtons: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      label: PropTypes.string.isRequired,\r\n      value: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  constButtons: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      label: PropTypes.string.isRequired,\r\n      value: PropTypes.string.isRequired,\r\n      validation: PropTypes.shape({\r\n        inputType: PropTypes.oneOf([\"number\", \"text\"]),\r\n      }).isRequired,\r\n    })\r\n  ).isRequired,\r\n  setNewSpec: PropTypes.func.isRequired,\r\n  updateConsts: PropTypes.func.isRequired,\r\n  saveHandler: PropTypes.func.isRequired,\r\n  closeHandler: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport cn from \"classnames\";\r\nimport styles from \"../SpecDialog/SpecDialog.module.css\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport {\r\n  closeSpecDialog,\r\n  saveSpecifications,\r\n  setSpecification,\r\n  updateSpecInputs,\r\n} from \"../../../../redux/SpecDialog/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  specDialogBtnGroupsSelector,\r\n  specDialogContentStyleSelector,\r\n  specDialogProps,\r\n} from \"../../../../redux/SpecDialog/selectors\";\r\nimport { loadDataset } from \"../../../../redux/DatasetsProps/actions\";\r\nimport { CompactContent, DefaultContent } from \"./StyledContent\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst SpecDialog = ({\r\n  dialogProps,\r\n  contentStyle,\r\n  buttonGroups,\r\n  closeDialog,\r\n  saveSpecs,\r\n  setNewRegime,\r\n  updateSpecs,\r\n}) => {\r\n  const { workspaceId, isOpened, specification, constants } = dialogProps;\r\n\r\n  if (workspaceId == null) {\r\n    return (\r\n      <div className={cn(styles.Root, { [styles.Opened]: isOpened })}>\r\n        <div className={styles.Blocker} onClick={closeDialog} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const saveHandler = () => {\r\n    saveSpecs();\r\n  };\r\n  const content = () => {\r\n    switch (contentStyle) {\r\n      case \"default\":\r\n        return (\r\n          <DefaultContent\r\n            workspaceId={workspaceId}\r\n            currSpec={specification}\r\n            currConsts={constants}\r\n            specButtons={buttonGroups[\"specButtons\"]}\r\n            constButtons={buttonGroups[\"constButtons\"]}\r\n            saveHandler={saveHandler}\r\n            closeHandler={closeDialog}\r\n          />\r\n        );\r\n      case \"compact\":\r\n        return (\r\n          <CompactContent\r\n            workspaceId={workspaceId}\r\n            currSpec={specification}\r\n            currConsts={constants}\r\n            specButtons={buttonGroups[\"specButtons\"]}\r\n            constButtons={buttonGroups[\"constButtons\"]}\r\n            setNewSpec={setNewRegime}\r\n            updateConsts={updateSpecs}\r\n            saveHandler={saveHandler}\r\n            closeHandler={closeDialog}\r\n          />\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={cn(styles.Root, { [styles.Opened]: isOpened })}>\r\n      <div className={styles.Blocker} onClick={closeDialog} />\r\n      {content()}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  dialogProps: specDialogProps,\r\n  contentStyle: specDialogContentStyleSelector,\r\n  buttonGroups: specDialogBtnGroupsSelector,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  closeDialog: () => dispatch(closeSpecDialog()),\r\n  saveSpecs: () => dispatch(saveSpecifications()),\r\n  loadDataset: (id) => dispatch(loadDataset(id)),\r\n  setNewRegime: (regimeId) => dispatch(setSpecification(regimeId)),\r\n  updateSpecs: (id, regime) => dispatch(updateSpecInputs(id, regime)),\r\n});\r\n\r\nSpecDialog.propTypes = {\r\n  dialogProps: PropTypes.shape({\r\n    workspaceId: PropTypes.string,\r\n    isOpened: PropTypes.bool.isRequired,\r\n    specification: PropTypes.string,\r\n    constants: PropTypes.objectOf(\r\n      PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n    ).isRequired,\r\n  }).isRequired,\r\n  contentStyle: PropTypes.string.isRequired,\r\n  buttonGroups: PropTypes.object,\r\n  closeDialog: PropTypes.func.isRequired,\r\n  saveSpecs: PropTypes.func.isRequired,\r\n  setNewRegime: PropTypes.func.isRequired,\r\n  updateSpecs: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SpecDialog);\r\n","import { createSelector } from \"reselect\";\n\nconst qrcodeSelector = (state) => state.QRcodeProps;\n\nexport const isQRcodeOpened = createSelector(\n  qrcodeSelector,\n  (props) => props.isOpened\n);\n\n\nexport const qrcodeTimerIntervalSelector = createSelector(\n  qrcodeSelector,\n  (qrcodes) => qrcodes?.timerInterval || 60000\n);\n\n\nexport const workSpaceQRcode = createSelector(\n  qrcodeSelector,\n  (qrcodes) => qrcodes?.src\n);\n","import React, { useEffect, useState } from \"react\";\r\nimport cn from 'classnames';\r\n\r\n\r\nimport styles from \"./QRCode.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport {isQRcodeOpened, workSpaceQRcode} from \"../../../../redux/QRcodeProps/selectors\";\r\nimport {hideQRCode} from \"../../../../redux/QRcodeProps/actions\";\r\nimport {nameGenerate} from \"./utils\"\r\nimport PropTypes from \"prop-types\";\r\nimport FrameBarButton from \"../../../FrameBar/FrameBarButton\";\r\nimport ExitIcon from \"../../../../assets/images/FrameBar_Exit.png\";\r\n\r\n\r\n\r\nfunction QRCode ({ closeQRCode, isOpened }) {\r\n  const [count, setCount] = useState(0);\r\n  useEffect(() => {\r\n  const timerUpdater = setTimeout(() => setCount(count + 1), 20000);\r\n    return () => clearTimeout(timerUpdater);\r\n  }, [count, setCount]);\r\n  return (\r\n    <div className={cn(styles.Root, { [styles.Opened]: isOpened })}>\r\n    <FrameBarButton\r\n          iconPath={ExitIcon}\r\n          onClick={closeQRCode}\r\n        />\r\n            <img className={styles.QRcode} src={'http://45.61.48.18/' + 'aio_ui/image/' + nameGenerate()} alt={\"\"} />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  QRcodeProps: workSpaceQRcode,\r\n  isOpened: isQRcodeOpened,\r\n});\r\n\r\n\r\nQRCode.propTypes = {\r\n  workspaceId: PropTypes.string.isRequired,\r\n  QRcodeProps: PropTypes.shape({\r\n    src: PropTypes.string.isRequired,\r\n    isOpened: PropTypes.bool.isRequired\r\n  }).isRequired,\r\n\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  closeQRCode: () => dispatch(hideQRCode()),\r\n});\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(QRCode);\r\n","import { CLOSE_QRCODE_DIALOG, OPEN_QRCODE_DIALOG } from \"../constants\";\n\nexport const openQRCode = () => ({\n  type: OPEN_QRCODE_DIALOG,\n});\n\nexport const hideQRCode = () => ({\n  type: CLOSE_QRCODE_DIALOG,\n});\n\n","export function nameGenerate () {return \"qr_code.png?\" + new Date().getTime()}","import React from \"react\";\nimport QRCode from \"./QRCode\";\nimport styles from \"./QRCodes.module.css\";\nimport { createStructuredSelector } from \"reselect\";\nimport { connect } from \"react-redux\";\nimport { openQRCode } from \"../../../redux/QRcodeProps/actions\";\nimport QrcodeIcon from '../../../assets/images/App_Qrcode1.png';\nimport PropTypes from \"prop-types\";\nimport { appWorkspace } from \"../../../redux/AppProps/selectors\";\n\n\nconst QRCodes = ({ openQRCodeWindow, currWorkspace }) => {\n\n  return (\n    <div className={styles.QrcodeContainer}>\n    <button onClick={openQRCodeWindow} className={styles.Qrcode}>\n        <img src={QrcodeIcon} alt=\"\" />\n      </button>\n       <QRCode workspaceId={currWorkspace} />\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  currWorkspace: appWorkspace,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  openQRCodeWindow: () => dispatch(openQRCode()),\n});\n\nQRCodes.propTypes = {\n  openQRCodeWindow: PropTypes.func.isRequired,\n  currWorkspace: PropTypes.string.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QRCodes);\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport Logo from '../../assets/images/App_Logo.png';\r\nimport styles from './Navigation.module.css';\r\nimport InfoWidgets from './InfoWidgets';\r\nimport Recommendations from './Recommendations';\r\nimport DownloadDialog from './Dialogs/DownloadDialog';\r\nimport SpecDialog from './Dialogs/SpecDialog'\r\nimport QRCodes from \"./QRCodes/QRCodes\";\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <div className={styles.Root}>\r\n      <div className={styles.TopContainer}>\r\n        <img src={Logo} className={styles.Logo} alt={''} />\r\n        {/* <FinanceImpact /> */}\r\n      </div>\r\n      <div className={styles.MiddleContainer}>\r\n        {/*<InfoWidgets />*/}\r\n      </div>\r\n      <div className={styles.BottomContainer}>\r\n        <InfoWidgets />\r\n        <Recommendations />\r\n      </div>\r\n      <DownloadDialog />\r\n      <SpecDialog />\r\n      <QRCodes />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","export default \"data:image/png;base64,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\"","import FrameBar from \"../FrameBar\";\r\nimport PropTypes from \"prop-types\";\r\nimport React, { useEffect } from \"react\";\r\nimport Workspace from \"../Workspace\";\r\nimport styles from \"./App.module.css\";\r\nimport { appDatasetsUpdater, appRecommendationsUpdater } from \"./utils\";\r\nimport { appLoadedStatus, appLocale } from \"../../redux/AppProps/selectors\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport { datasetsPropsSelector } from \"../../redux/DatasetsProps/selectors\";\r\nimport { loadDataset } from \"../../redux/DatasetsProps/actions\";\r\nimport { recsAPIsSelector } from \"../../redux/RecProps/selectors\";\r\nimport { requestCalculation as datasetCalculator } from \"../../utils\";\r\nimport { requestNewRecs } from \"../../redux/RecProps/actions\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { workspacesIdsSelector } from \"../../redux/WorkSpacesProps/selectors\";\r\nimport Navigation from \"../Navigation\";\r\n\r\nexport function App({\r\n  workspacesIds,\r\n  datasetsProps,\r\n  recsProps,\r\n  isLoaded,\r\n  locale,\r\n  updateDataset,\r\n  updateRec,\r\n}) {\r\n  const { i18n } = useTranslation();\r\n  i18n.changeLanguage(locale || \"en\").catch((err) => {\r\n    window?.api?.log?.error(\"\\nSet locale error!\");\r\n    window?.api?.log?.error(err.message);\r\n  });\r\n\r\n  useEffect(() => {\r\n    async function appUpdater() {\r\n      if (!isLoaded) return;\r\n      await appDatasetsUpdater(\r\n        workspacesIds,\r\n        datasetsProps,\r\n        datasetCalculator,\r\n        updateDataset\r\n      );\r\n      await appRecommendationsUpdater(recsProps, updateRec);\r\n      window?.api?.send?.(\"appShow\", true);\r\n    }\r\n\r\n    appUpdater().catch((err) => {\r\n      window?.api?.log?.error(\"\\nFailed to start app updater!\");\r\n      window?.api?.log?.error(err.message);\r\n    });\r\n  }, []); // eslint-disable-line\r\n\r\n  return (\r\n    <div className={styles.Root}>\r\n      <FrameBar />\r\n      {isLoaded && (\r\n        <>\r\n          <Navigation />\r\n          <Workspace />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  workspacesIds: workspacesIdsSelector,\r\n  datasetsProps: datasetsPropsSelector,\r\n  isLoaded: appLoadedStatus,\r\n  locale: appLocale,\r\n  recsProps: recsAPIsSelector,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  updateDataset: (workspaceId, datasetProps) =>\r\n    dispatch(loadDataset(workspaceId, datasetProps)),\r\n  updateRec: (workspaceId, route) =>\r\n    dispatch(requestNewRecs(workspaceId, route)),\r\n});\r\n\r\nfunction areEqual(prevProps, nextProps) {\r\n  return prevProps.isLoaded === nextProps.isLoaded;\r\n}\r\n\r\nApp.propTypes = {\r\n  workspacesIds: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  datasetsProps: PropTypes.objectOf(\r\n    PropTypes.shape({\r\n      byId: PropTypes.objectOf(\r\n        PropTypes.shape({\r\n          id: PropTypes.string.isRequired,\r\n          apiEndpoints: PropTypes.shape({\r\n            get: PropTypes.string.isRequired,\r\n            update: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n          }).isRequired,\r\n          updateInterval: PropTypes.number.isRequired,\r\n        })\r\n      ).isRequired,\r\n    })\r\n  ).isRequired,\r\n  recsProps: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      apiEndpoint: PropTypes.string.isRequired,\r\n      updateInterval: PropTypes.number.isRequired,\r\n      workspaceId: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  isLoaded: PropTypes.bool.isRequired,\r\n  locale: PropTypes.oneOf([\"en\", \"ru\"]).isRequired,\r\n  updateDataset: PropTypes.func.isRequired,\r\n  updateRec: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(React.memo(App, areEqual));\r\n","import { FAILURE, REQUEST, SUCCESS } from '../constants';\r\n\r\nconst __DEV__ = process.env.NODE_ENV !== 'production';\r\n\r\nconst createPostParams = (data) => ({\r\n  method: 'POST',\r\n  headers: { 'Content-Type': 'application/json' },\r\n  body: JSON.stringify(data),\r\n});\r\n\r\nconst api = (store) => (next) => async (action) => {\r\n  if (!action.CallAPI) return next(action);\r\n\r\n  const { CallAPI, type, postData, ...rest } = action;\r\n\r\n  next({ ...rest, type: type + REQUEST });\r\n  try {\r\n    const params = postData ? createPostParams(postData) : {};\r\n    const api = __DEV__ ? CallAPI : 'http://45.61.48.18/' + CallAPI;\r\n    const response = await fetch(api, params).then(async (res) => {\r\n      if (res.status >= 400) {\r\n        console.error(`Response status [${res.status}] for: ${CallAPI}`);\r\n      }\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok) return data;\r\n\r\n      throw data;\r\n    });\r\n    return next({ ...rest, type: type + SUCCESS, response });\r\n  } catch (error) {\r\n    throw next({ ...rest, type: type + FAILURE, error });\r\n  }\r\n};\r\n\r\nexport default api;\r\n","import produce from \"immer\";\nimport { SET_APP_WORKSPACE } from \"../constants\";\n\nexport const initialState = {\n  isLoaded: false,\n  currentWorkspace: \"default\",\n  locale: \"en\",\n};\n\nconst reducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    const { type, payload } = action;\n\n    switch (type) {\n      case SET_APP_WORKSPACE:\n        draft.currentWorkspace = payload.workspaceId;\n        break;\n      default:\n        return;\n    }\n  });\n\nexport default reducer;\n","const initialState = {\n  style: \"default\",\n  isShown: false,\n  tagId: null,\n  demo: {\n    initValue: null,\n    increment: null,\n    updateInterval: null,\n  },\n};\n\nconst reducer = (state = initialState, action) => {\n  const { type } = action;\n\n  switch (type) {\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import produce from \"immer\";\n\nimport { FAILURE, LOAD_DATASET, SUCCESS } from \"../constants\";\n\nconst initialState = {\n  default: {\n    byId: {\n      default: {\n        id: \"default\",\n        apiEndpoints: {\n          get: \"/calculated_parameters\",\n          update: \"/basic_functionality\",\n        },\n        updateInterval: 60000,\n        dataset: {},\n        periods: [{ text: \"default\", value: 1440 }],\n        error: null,\n      },\n    },\n  },\n};\n\nconst reducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    const { type, payload, response, error } = action;\n\n    switch (type) {\n      case LOAD_DATASET + SUCCESS:\n        draft[payload.workspaceId].byId[payload.datasetId].dataset = response;\n        draft[payload.workspaceId].byId[payload.datasetId].error = null;\n        break;\n      case LOAD_DATASET + FAILURE:\n        draft[payload.workspaceId].byId[payload.datasetId].error = error;\n        break;\n      default:\n        return;\n    }\n  });\n\nexport default reducer;\n","import produce from \"immer\";\nimport {\n  CLOSE_DOWNLOAD_DIALOG,\n  DOWNLOAD_DATA,\n  FAILURE,\n  OPEN_DOWNLOAD_DIALOG,\n  SET_DOWNLOAD_VALUE,\n  SUCCESS,\n} from \"../constants\";\n\nconst initialState = {\n  isOpened: false,\n  workspaceId: null,\n  apiEndpoint: \"/download?\",\n  error: null,\n  values: {\n    data: \"all_data\",\n    period: \"1\",\n  },\n};\n\nconst reducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    const { type, payload, error } = action;\n\n    switch (type) {\n      case OPEN_DOWNLOAD_DIALOG:\n        draft.isOpened = true;\n        draft.workspaceId = payload.workspaceId;\n        break;\n      case CLOSE_DOWNLOAD_DIALOG:\n        draft.isOpened = false;\n        draft.workspaceId = null;\n        break;\n      case SET_DOWNLOAD_VALUE:\n        draft.values[payload.type] = payload.value;\n        break;\n      case DOWNLOAD_DATA + SUCCESS:\n        draft.error = null;\n        break;\n      case DOWNLOAD_DATA + FAILURE:\n        draft.error = error;\n        break;\n      default:\n        return;\n    }\n  });\n\nexport default reducer;\n","import produce from \"immer\";\nimport {\n  SET_PLOT_STREAM,\n  SET_PLOT_PERIOD,\n  SET_PLOT_TARGETS,\n} from \"../constants\";\n\nconst initialState = {\n  default: {\n    byId: {\n      left: {\n        streamId: \"default\",\n        tags: [\"\", \"\", \"\", \"\"],\n        period: 1440,\n        datasetId: \"default\",\n      },\n      right: {\n        streamId: \"default\",\n        tags: [\"\", \"\", \"\", \"\"],\n        period: 1440,\n        datasetId: \"default\",\n      },\n    },\n  },\n};\n\nconst reducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    const { type, payload } = action;\n\n    switch (type) {\n      case SET_PLOT_STREAM:\n        draft[payload.workspaceId].byId[payload.plotId].streamId =\n          payload.streamId;\n        draft[payload.workspaceId].byId[payload.plotId].tags = payload.tags;\n        draft[payload.workspaceId].byId[payload.plotId].datasetId =\n          payload.datasetId;\n        if (\n          draft[payload.workspaceId].byId[payload.plotId].datasetId !==\n          payload.datasetId\n        ) {\n          draft[payload.workspaceId].byId[payload.plotId].period =\n            payload.defaultPeriod;\n        }\n        break;\n      case SET_PLOT_PERIOD:\n        draft[payload.workspaceId].byId[payload.plotId].period = payload.period;\n        break;\n      case SET_PLOT_TARGETS:\n        if (payload.tags.length >= 5) {\n          break;\n        } else {\n          draft[payload.workspaceId].byId[payload.plotId].tags = payload.tags;\n          break;\n        }\n      default:\n        return;\n    }\n  });\n\nexport default reducer;\n","import produce from \"immer\";\nimport {\n  CLOSE_REC,\n  REC_ACTION_SUBMIT,\n  SUCCESS,\n  REQUEST_NEW_RECS,\n} from \"../constants\";\n\nconst initialState = {\n  recsAPIs: [\n    {\n      apiEndpoint: \"/recommendations\",\n      updateInterval: 10000,\n    },\n  ],\n  maxShown: 3,\n  timerInterval: 60000,\n  queue: [],\n  values: {},\n  error: null,\n};\n\nconst reducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    const { type, payload, response } = action;\n\n    switch (type) {\n      case REQUEST_NEW_RECS + SUCCESS:\n        for (let newProp of response) {\n          draft.queue = draft.queue.filter((item) => item.id !== newProp.id);\n        }\n\n        draft.queue = draft.queue.concat(response);\n        draft.queue.sort((a, b) => a.priority - b.priority);\n\n        for (let rec of draft.queue) {\n          draft.values[rec.id] = [rec.value];\n        }\n        break;\n      case REC_ACTION_SUBMIT:\n        draft.queue = draft.queue.filter((item) => item.id !== payload.recId);\n        draft.error = null;\n        break;\n      // case REC_ACTION_SUBMIT + SUCCESS:\n      //   draft.queue = draft.queue.filter((item) => item.id !== payload.recId);\n      //   draft.error = null;\n      //   break;\n      // case REC_ACTION_SUBMIT + FAILURE:\n      //   draft.queue = draft.queue.filter((item) => item.id !== payload.recId);\n      //   draft.error = error;\n      //   break;\n      case CLOSE_REC:\n        draft.queue = draft.queue.filter((item) => item.id !== payload.recId);\n        break;\n      default:\n        return;\n    }\n  });\n\nexport default reducer;\n","import produce from 'immer';\nimport { OPEN_SHUTDOWN_DIALOG, CLOSE_SHUTDOWN_DIALOG } from '../constants';\n\nconst initialState = {\n  isOpened: false,\n};\n\nconst reducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    const { type } = action;\n\n    switch (type) {\n      case OPEN_SHUTDOWN_DIALOG:\n        draft.isOpened = true;\n        break;\n      case CLOSE_SHUTDOWN_DIALOG:\n        draft.isOpened = false;\n        break;\n      default:\n        break;\n    }\n  });\n\nexport default reducer;\n","import produce from \"immer\";\nimport {\n  CLOSE_SPEC_DIALOG,\n  FAILURE,\n  OPEN_SPEC_DIALOG,\n  SAVE_SPECS_AND_CONSTS,\n  SET_CONSTANTS,\n  SET_SPECIFICATION,\n  SUCCESS,\n  UPDATE_CONSTANTS,\n} from \"../constants\";\n\nconst initialState = {\n  isOpened: false,\n  workspaceId: null,\n  datasetId: \"default\",\n  apiEndpoints: {\n    set: \"/set_specification_and_consts?\",\n    get: \"/current_specification_and_consts\",\n    update: \"/current_consts?\",\n    datasetUpdate: \"/calculated_parameters\",\n  },\n  error: null,\n  specification: null,\n  constants: {},\n};\n\nconst validateConstants = (consts, defaults) => {\n  try {\n    const validKeys = Object.keys(defaults);\n    const responseKeys = Object.keys(consts);\n    const result = { ...consts };\n\n    for (const key of validKeys) {\n      if (responseKeys.includes(key)) {\n        continue;\n      } else {\n        result[key] = defaults[key];\n      }\n    }\n\n    return result;\n  } catch (err) {\n    return { ...defaults };\n  }\n};\n\nconst reducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    const { type, payload, response, error } = action;\n\n    switch (type) {\n      case OPEN_SPEC_DIALOG + SUCCESS:\n        const specification = Object.keys(response)[0];\n        const constants = response[specification];\n\n        draft.isOpened = true;\n        draft.workspaceId = payload.workspaceId;\n        draft.specification = specification;\n        draft.constants = validateConstants(constants, payload.default.constants);\n        draft.error = null;\n        break;\n      case OPEN_SPEC_DIALOG + FAILURE:\n        draft.isOpened = true;\n        draft.workspaceId = payload.workspaceId;\n        draft.specification = payload.default.specification;\n        draft.constants = payload.default.constants;\n        draft.error = error;\n        break;\n      case SET_CONSTANTS:\n        draft.constants = payload.constants;\n        break;\n      case UPDATE_CONSTANTS + SUCCESS:\n        draft.constants = validateConstants(response, payload.default.constants);\n        break;\n      case UPDATE_CONSTANTS + FAILURE:\n        draft.constants = payload.default.constants;\n        break;\n      case SET_SPECIFICATION:\n        draft.specification = payload.specification;\n        break;\n      case CLOSE_SPEC_DIALOG:\n        draft.isOpened = false;\n        draft.workspaceId = null;\n        break;\n      case SAVE_SPECS_AND_CONSTS + SUCCESS:\n        draft.isOpened = false;\n        draft.workspaceId = null;\n        break;\n      case SAVE_SPECS_AND_CONSTS + FAILURE:\n        draft.isOpened = false;\n        draft.workspaceId = null;\n        break;\n      default:\n        return;\n    }\n  });\n\nexport default reducer;\n","const initialState = {\n  byId: {\n    default: {\n      label: \"default\",\n      schemes: {\n        byId: {\n          default: {\n            src: \"images/Scheme_DEFAULT.png\",\n            size: {\n              width: 3382,\n              height: 1211,\n            },\n            advices: {\n              byId: {\n                default: {\n                  label: \"default\",\n                  optTagId: \"default\",\n                  realTagId: \"default\",\n                  precision: 2,\n                  units: \" ~ \",\n                  margin: 124,\n                  datasetsId: {\n                    opt: \"default\",\n                    real: \"default\",\n                  },\n                  recValId: null,\n                },\n              },\n            },\n            labels: [\n              {\n                tagId: \"default\",\n                datasetId: \"default\",\n                text: null,\n                capitalize: true,\n                pos: {\n                  x: 641,\n                  y: 900,\n                },\n                texted: {\n                  0: \"default\",\n                  1: \"default\",\n                },\n              },\n            ],\n          },\n        },\n      },\n      infoWidgets: [\n        {\n          type: \"infoTable\",\n          style: \"compact\", // [compact, default]\n          content: [\n            {\n              cellLabel: \"default\",\n              rows: [\n                {\n                  label: \"default\",\n                  tagId: \"default\",\n                  units: \"%\",\n                  precision: 1,\n                  datasetId: \"default\",\n                },\n              ],\n            },\n          ],\n        },\n      ],\n      dialogProps: {\n        dialogs: [\"specDialog\", \"downloadDialog\"],\n        download: {\n          renderOrder: [\"periodGroup\", \"typeGroup\"],\n          buttonGroups: {\n            periodGroup: {\n              title: \"Time periods\",\n              storeProp: \"period\",\n              buttons: [\n                {\n                  style: \"default\",\n                  value: \"1\",\n                  label: \"Day\",\n                },\n              ],\n            },\n            typeGroup: {\n              title: \"Data type\",\n              storeProp: \"data\",\n              buttons: [\n                {\n                  style: \"default\",\n                  value: \"all_data\",\n                  label: \"All data\",\n                },\n              ],\n            },\n          },\n        },\n        specifications: {\n          style: \"compact\", // [compact, default]\n          buttonGroups: {\n            specButtons: [\n              {\n                label: \"default\",\n                value: \"default\",\n              },\n            ],\n            constButtons: [\n              {\n                label: \"default\",\n                value: \"default\",\n                postfix: \" ~ \",\n                validation: {\n                  inputType: \"number\",\n                  restrictions: {\n                    min: 0,\n                    max: 100,\n                    len: 4,\n                  },\n                },\n              },\n            ],\n          },\n          default: {\n            specification: \"default\",\n            constants: {\n              conv: 35.7,\n              select: 2.34,\n            },\n          },\n        },\n      },\n      plotStreams: {\n        byId: {\n          default: {\n            id: \"default\",\n            text: \"default\",\n            defaultTags: [\"\", \"\", \"\", \"\"],\n            datasetId: \"default\",\n            defaultPeriod: 1440,\n            tags: [\"default\"],\n          },\n        },\n      },\n      plotTags: {\n        byId: {\n          default: {\n            text: \"default\",\n            description: \"default\",\n          },\n        },\n      },\n    },\n  },\n};\n\nconst reducer = (state = initialState, action) => {\n  const { type } = action;\n\n  switch (type) {\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import produce from \"immer\";\nimport {\n  CLOSE_QRCODE_DIALOG,\n  OPEN_QRCODE_DIALOG,\n  SUCCESS,\n  REQUEST_QRCODE,\n} from \"../constants\";\n\nconst initialState = {\n  src: \"images/qr_code.png\",\n  isOpened: false,\n};\n\nconst reducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    const { type, response } = action;\n\n    switch (type) {\n      case REQUEST_QRCODE + SUCCESS:\n\n        draft.src = response.src;\n        break;\n      case OPEN_QRCODE_DIALOG:\n        draft.isOpened = true;\n        break;\n\n      case CLOSE_QRCODE_DIALOG:\n        draft.isOpened = false;\n        break;\n      default:\n        return;\n    }\n  });\n\nexport default reducer;\n","import appPropsReducer from './AppProps/reducer';\nimport finImpPropsReducer from './FinImpProps/reducer';\nimport datasetsPropsReducer from './DatasetsProps/reducer';\nimport downloadReducer from './DownloadProps/reducer';\nimport plotsPropsReducer from './PlotsProps/reducer';\nimport recPropsSelector from './RecProps/reducer';\nimport shutdownDialogReducer from './ShutdownDialog/reducer';\nimport specDialogReducer from './SpecDialog/reducer';\nimport workspacesPropsReducer from './WorkSpacesProps/reducer';\nimport qcodePropsSelector from  './QRcodeProps/reducer';\nimport { combineReducers } from 'redux';\n\nconst rootReducer = combineReducers({\n  AppProps: appPropsReducer,\n  DatasetsProps: datasetsPropsReducer,\n  DownloadProps: downloadReducer,\n  FinImpProps: finImpPropsReducer,\n  PlotsProps: plotsPropsReducer,\n  RecProps: recPropsSelector,\n  ShutdownDialog: shutdownDialogReducer,\n  SpecDialog: specDialogReducer,\n  WorkSpacesProps: workspacesPropsReducer,\n  QRcodeProps: qcodePropsSelector,\n});\n\nexport default rootReducer;\n","import api from './middleware/api';\r\nimport rootReducer from './reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { applyMiddleware, createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n// import { createLogger } from 'redux-logger';\r\n// import { loggerConfig } from './middleware/logger';\r\n\r\nfunction initStore(initialState: object | null) {\r\n  // const loggerMiddleware = createLogger({\r\n  //   ...loggerConfig,\r\n  //   logger: window.api.log,\r\n  // });\r\n  const enhancer = applyMiddleware(thunkMiddleware, api);\r\n\r\n  return initialState\r\n    ? createStore(rootReducer, initialState, composeWithDevTools(enhancer))\r\n    : createStore(rootReducer, composeWithDevTools(enhancer));\r\n}\r\n\r\nexport default initStore;\r\n","import \"./i18n/config\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport initStore from \"./redux/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport { requestAppSettings } from \"./utils\";\r\n\r\n/**\r\n * Assign console.log to electron-log. To store .log files and\r\n * bind logs with redux-logger.\r\n */\r\n// console.log = Object.assign(console, window.api.log.functions);\r\n\r\n/**\r\n * External libs added through public/preload.js.\r\n * @type api -> Use this to add external libs.\r\n * TODO: define type of log object\r\n */\r\ndeclare global {\r\n  interface Window {\r\n    store: any;\r\n    api: {\r\n      send: (channel: string, data: any) => void;\r\n      receive: (channel: string, handler: (data: any) => object | void) => void;\r\n      log: any;\r\n    };\r\n    endpoint: string;\r\n  }\r\n}\r\n\r\nfunction renderApp(store: any, globalStore = false) {\r\n  //! Dev only.\r\n  //! In some cases it's useful to have global store (first prod run tests).\r\n  if (globalStore) window.store = store;\r\n\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n    document.getElementById(\"root\")\r\n  );\r\n}\r\n\r\nrequestAppSettings()\r\n  .then((settings) => renderApp(initStore(settings), true))\r\n  .catch(() => renderApp(initStore(null), true));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Target_Root__3pTcm\",\"Disabled\":\"Target_Disabled__1C-7W\",\"Marker\":\"Target_Marker__3GJG8\",\"checkedMarker\":\"Target_checkedMarker__1AIf9\",\"Text\":\"Target_Text__13369\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"ModeBar_Root__2pdOu\",\"ModeBarButton\":\"ModeBar_ModeBarButton__3nBUo\",\"alternative\":\"ModeBar_alternative__2tw7L\",\"disabled\":\"ModeBar_disabled__1fuKS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Navigation_Root__2Be0e\",\"Logo\":\"Navigation_Logo__ObvB-\",\"Divider\":\"Navigation_Divider__1gT8q\",\"TopContainer\":\"Navigation_TopContainer__2D1vu\",\"MiddleContainer\":\"Navigation_MiddleContainer__3T9lG\",\"BottomContainer\":\"Navigation_BottomContainer__342-h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"SettingsBar_Root__2WL2u\",\"Name\":\"SettingsBar_Name__3sVJE\",\"Checked\":\"SettingsBar_Checked__2HENr\",\"Single\":\"SettingsBar_Single__3F0S4\",\"IconButton\":\"SettingsBar_IconButton__3ITWI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"RegimeButton_Root__2U8hc\",\"Disabled\":\"RegimeButton_Disabled__1lEA4\",\"Marker\":\"RegimeButton_Marker__2pLvP\",\"checkedMarker\":\"RegimeButton_checkedMarker__1udB6\",\"Text\":\"RegimeButton_Text__Douh3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Stream_Root__M-db2\",\"Text\":\"Stream_Text__2xqYJ\",\"Checkmark\":\"Stream_Checkmark__22qr6\",\"Checked\":\"Stream_Checked__OLiwQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Recommendation_Root__3ulpX\",\"Timer\":\"Recommendation_Timer__3Ruhj\",\"CloseButton\":\"Recommendation_CloseButton__CKk1E\",\"Text\":\"Recommendation_Text__15FMy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"SpecInput_Root__FhHfK\",\"Invalid\":\"SpecInput_Invalid__1GXu9\",\"InvalidLabel\":\"SpecInput_InvalidLabel__QUb1-\",\"Text\":\"SpecInput_Text__3RpcZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Label_Root__3wo9H\",\"Shown\":\"Label_Shown__1eNPl\",\"Warn\":\"Label_Warn__1Ticf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"RadioBtnsGroup_Root__U7crO\",\"RadioLabel\":\"RadioBtnsGroup_RadioLabel__16IOs\",\"FormLabel\":\"RadioBtnsGroup_FormLabel__W9CIb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"QRCode_Root__pfvhN\",\"Opened\":\"QRCode_Opened__386us\",\"QRcode\":\"QRCode_QRcode__2YWLQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"FrameBarButton_Root__3llax\",\"Icon\":\"FrameBarButton_Icon__1yf2d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Period_Root__2Ietu\",\"active\":\"Period_active__12bVV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Recommendations_Root__2Fl1G\",\"Title\":\"Recommendations_Title__3lerE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Qrcode\":\"QRCodes_Qrcode__z7fXo\",\"QrcodeContainer\":\"QRCodes_QrcodeContainer__1GBcR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"SpecDialog_Root__i-dtp\",\"Blocker\":\"SpecDialog_Blocker__1mhqP\",\"Opened\":\"SpecDialog_Opened__1aRIP\",\"Content\":\"SpecDialog_Content__QhHAs\",\"Default\":\"SpecDialog_Default__sf7V6\",\"Compact\":\"SpecDialog_Compact__2W4jT\",\"Title\":\"SpecDialog_Title__36IbL\",\"Buttons\":\"SpecDialog_Buttons__1_Fxz\",\"WhiteButton\":\"SpecDialog_WhiteButton__15vwq\",\"RedButton\":\"SpecDialog_RedButton__3SNjY\",\"DisabledBtn\":\"SpecDialog_DisabledBtn__1ghZs\",\"RadioLabel\":\"SpecDialog_RadioLabel__-YVmi\",\"Divider\":\"SpecDialog_Divider__1Bklr\",\"DefaultRegimesContainer\":\"SpecDialog_DefaultRegimesContainer__3S4iL\",\"DefaultSpecsContainer\":\"SpecDialog_DefaultSpecsContainer__1uKW3\",\"CompactRadioContainer\":\"SpecDialog_CompactRadioContainer__8KpVx\",\"CompactSpecsContainer\":\"SpecDialog_CompactSpecsContainer__11ltJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"FrameBar_Root__e-tps\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Scheme_Root__2g32Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Advices_Root__2btse\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Workspace_Root__3-veV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Plots_Root___FBDU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Periods_Root__QfgwY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"PlotBar_Root__1HHpK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Targets_Root__2D8TL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Plot_Root__1LLNh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Chart_Root__27pAv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"App_Root__2VQFL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"InfoWidget_Root__2AoiH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"DownloadDialog_Root__21FJj\",\"Blocker\":\"DownloadDialog_Blocker__1w-gk\",\"Opened\":\"DownloadDialog_Opened__2O6-n\",\"Content\":\"DownloadDialog_Content__1UHeY\",\"Title\":\"DownloadDialog_Title__1ylzj\",\"Buttons\":\"DownloadDialog_Buttons__shu9c\",\"WhiteButton\":\"DownloadDialog_WhiteButton__2C1Me\",\"RedButton\":\"DownloadDialog_RedButton__1hNLi\",\"Divider\":\"DownloadDialog_Divider__3YD79\",\"GroupsContainer\":\"DownloadDialog_GroupsContainer__3VUgk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Root\":\"Advice_Root__2AXjJ\",\"Name\":\"Advice_Name__3QckI\",\"OptVal\":\"Advice_OptVal__1zZFE\",\"RealVal\":\"Advice_RealVal__2rzD5\",\"Hidden\":\"Advice_Hidden__3B9bv\",\"OptMarker\":\"Advice_OptMarker__27DtP\",\"RealMarker\":\"Advice_RealMarker__3Sgqv\",\"units\":\"Advice_units__2XIyU\"};"],"sourceRoot":""}